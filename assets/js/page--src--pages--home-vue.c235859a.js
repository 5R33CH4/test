(window.webpackJsonp=window.webpackJsonp||[]).push([[493,4],{"+2da":function(e,t){},"0Qi8":function(e,t,i){"use strict";i("vPt4")},"0R8C":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));i("c5Om"),i("vNVo"),i("qdS0"),i("hHd6"),i("FKdK"),i("z6Sc");var s=i("1OyB"),n=i("vuIU"),o=function(){function e(){Object(s.a)(this,e)}return Object(n.a)(e,null,[{key:"capitalize",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"getFileExtension",value:function(e){return/[.]/.exec(e)?/[^.]+$/.exec(e)[0]:""}},{key:"nl2br",value:function(e){return"string"!=typeof e?null:e.replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br>$2")}},{key:"slugify",value:function(e){return"string"!=typeof e?null:e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}}]),e}()},"0cQX":function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));i("mSpg");var s=i("VTBJ"),n=i("1OyB"),o=i("vuIU"),a=i("Womt"),r=i("LvDl"),l=i("Mtn/"),c=i("k+my"),h=i("ve0y"),u=i.n(h),d=function(){function e(t){return Object(n.a)(this,e),this.options=Object(s.a)({},t),this.viewport=t.viewport,this.elmts=t.elmts,this.scene=t.scene||new a.hb,this.camera=t.camera||new a.W(75,this.viewport.width/this.viewport.height,1,1500),t.camera||(this.camera.position.z=500),this.composer=new l.a(t.renderer),this.elmts.length&&(this.watchers={first:u.a.create(Object(r.first)(this.elmts)),last:u.a.create(Object(r.last)(this.elmts))}),this}return Object(o.a)(e,[{key:"init",value:function(){this.scene.name=this.options.name;var e=new c.a(this.scene,this.camera);e.clearColor=new a.j(this.options.clearColor||16777215),e.clearAlpha=this.options.clearAlpha||0,this.composer.addPass(e)}},{key:"isVisible",value:function(){return this.scene.visible}},{key:"resize",value:function(e){this.viewport=e,this.camera.aspect=this.viewport.width/this.viewport.height,this.camera.updateProjectionMatrix(),this.composer.setSize(this.viewport.width,this.viewport.height)}},{key:"render",value:function(){this.elmts.length?this.scene.visible=this.watchers.first.isInViewport||this.watchers.last.isInViewport:this.scene.visible=!0}},{key:"refresh",value:function(e){this.watchers={first:u.a.create(Object(r.first)(e)),last:u.a.create(Object(r.last)(e))}}},{key:"dispose",value:function(){this.scene.children&&(Object(r.each)(this.scene.children,(function(e){var t,i,s;(void 0!==e.dispose&&e.dispose(),e.geometry&&e.geometry.dispose(),e.material)&&(null!==(t=e.material)&&void 0!==t&&null!==(i=t.uniforms)&&void 0!==i&&null!==(s=i.uTexture)&&void 0!==s&&s.value&&e.material.uniforms.uTexture.value.dispose(),e.material.dispose())})),this.scene.dispose()),this.watchers&&(this.watchers.first.destroy(),this.watchers.last.destroy()),this.composer=null,this.scene=null,this.viewport=null,this.elmts=null,this.camera=null,this.watchers=null}}]),e}()},"1XKo":function(e,t,i){"use strict";i("djen"),i("/Q1v"),i("hqZ9");var s=i("VTBJ"),n=i("L2JU"),o=i("LvDl"),a=i("z/o8"),r=i("wQL9"),l=i("pVnL"),c=i.n(l),h={functional:!0,render(e,t){const{_c:i,_v:s,data:n,children:o=[]}=t,{class:a,staticClass:r,style:l,staticStyle:h,attrs:u={},...d}=n;return i("svg",{class:[a,r],style:[l,h],attrs:c()({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42.23 42.23"},u),...d},o.concat([i("path",{attrs:{d:"M-.004 41.015L40.231.781l1.216 1.216L1.213 42.23z"}}),i("path",{attrs:{d:"M7.75 0h34.48v1.72H7.75z"}}),i("path",{attrs:{"fill-rule":"evenodd",d:"M40.51 0h1.72v34.48h-1.72V0z"}})]))}},u={name:"ListHover",components:{couronneBlack:r.a,SvgJobApplication:h},props:{itemsToDisplay:{type:Array,default:function(){return[]}},items:{type:Array,default:function(){return[]}},cta:{type:String,default:null},ctaUrl:{type:String,default:null},ctaTarget:{type:String,default:null},theme:{type:String,default:"red"},singleColumn:{type:Boolean,default:!1},whiteOver:{type:Boolean,default:!1}},data:function(){return{iconWidth:"1em",isRowHover:!1}},computed:Object(s.a)(Object(s.a)({},Object(n.b)({siteId:"I18n/siteId",viewport:"Interface/viewport",layout:"Interface/layout"})),{},{list:function(){var e=this;return Object(o.flow)([function(t){return e.itemsToDisplay.length?Object(o.map)(e.itemsToDisplay,(function(e){return Object(o.find)(t,(function(t){return parseInt(t.entry_id,10)===e}))})):t},function(e){return Object(o.without)(e,null,void 0)}])(this.items)},isLayoutMobile:function(){return"mobile"===this.layout}}),mounted:function(){var e=this;setTimeout((function(){e.$watch("viewport",(function(){e.$refs.CtaText&&(e.iconWidth="".concat(1.2*e.$refs.CtaText.offsetHeight,"px"))}),{immediate:!0})}),500)},methods:{getItemCategory:function(e){var t,i;return null!==(t=null==e||null===(i=e.categories)||void 0===i?void 0:i.join("<br/>"))&&void 0!==t?t:e.category},onTableLeave:function(){var e=this.$refs.RowBg;e&&a.a.timeline().set(e,{transformOrigin:"center ".concat(0===this.isHover?"top":"bottom")}).to(e,{scaleY:0,duration:.3,ease:"power4.out",delay:.1}),this.isHover=!1},onRowEnter:function(e,t){var i=e.target,s=i.offsetTop,n=Math.floor(i.getBoundingClientRect().height),o=a.a.timeline({defaults:{ease:"power4.out"}}),r=this.$refs.RowBg;!1===this.isHover&&r&&o.set(r,{y:s}),this.isHover=t,r&&o.set(r,{transformOrigin:"center ".concat(t===this.items.length?"bottom":"top")}).to(r,{duration:.5,y:s,scaleY:1},0).to(r,{duration:.5,height:n},0);var l=i.querySelector(".titletext");l?(o.to(this.$el.querySelectorAll(".cta .text, .cta .icon"),.4,{x:0},0).to([l,i.querySelector(".icon-award")],.4,{x:30},0),this.whiteOver&&o.to([l,i.querySelector(".category-wrapper")],.4,{color:"#ffffff"},0).to(i.querySelector(".icon-award"),.4,{fill:"white"},0).to(i.querySelector(".date-wrapper .round"),.4,{borderColor:"#ffffff",color:"#ffffff"},0)):o.to(i.querySelector(".text"),.4,{color:this.whiteOver?"#ffffff":"#000000",x:-15},0).to(i.querySelector(".icon"),.4,{fill:this.whiteOver?"#ffffff":"#000000",x:-15},0)},onRowLeave:function(e){var t=e.target,i=t.querySelector(".titletext"),s=a.a.timeline({defaults:{ease:"power4.out"}});i?(s.to([i,t.querySelector(".icon-award")],.4,{x:0},0),this.whiteOver&&s.to([i,t.querySelector(".category-wrapper")],.4,{color:"#000000"},0).to(t.querySelector(".date-wrapper .round"),.4,{borderColor:"#000000",color:"#000000"},0).to(t.querySelector(".icon-award"),.4,{fill:"black"},0)):s.to(t.querySelector(".text"),.4,{color:"#000000",x:0},0).to(t.querySelector(".icon"),.4,{fill:"#000000",x:0},0)},onClick:function(e){this.ctaUrl||(e.preventDefault(),this.$emit("cta-click"))},selectItem:function(e){this.$emit("item-click",e)}}},d=(i("I4At"),i("KHd+")),p=i("+2da"),v=i.n(p),m=Object(d.a)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ListHover"},[i("nav",{staticClass:"table",on:{mouseleave:function(t){return e.onTableLeave(t)}}},[i("div",{ref:"RowBg",class:["row-background","-theme-"+e.theme]}),e.items.length?i("ul",{staticClass:"list"},e._l(e.list,(function(t,s){return i("li",{key:"item-"+t.entry_id,attrs:{"data-cover":t.cover,"data-height":t.height,"data-width":t.width,"data-path":t.path},on:{mouseleave:function(t){return e.onRowLeave(t)},mouseenter:function(t){return e.onRowEnter(t,s)}}},[i("g-link",{class:["item",e.singleColumn?"-single":"",s===e.list.length-1&&e.cta?"-before-cta":""],attrs:{title:t.title,to:t.path,event:""},nativeOn:{click:function(i){return e.selectItem(t)}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.singleColumn,expression:"!singleColumn"}],staticClass:"date-wrapper"},[i("div",{staticClass:"round",domProps:{textContent:e._s(t.year?t.year:"")}})]),i("div",{staticClass:"title"},[i("span",{staticClass:"titletext"},[e._v(e._s(t.title))]),i("couronneBlack",{directives:[{name:"show",rawName:"v-show",value:t.awards&&t.awards.length,expression:"item.awards && item.awards.length"}],staticClass:"icon-award"})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.singleColumn,expression:"!singleColumn"},{name:"g-image",rawName:"v-g-image"}],staticClass:"category-wrapper",domProps:{innerHTML:e._s(e.getItemCategory(t))}})])],1)})),0):e._e(),i("a",{directives:[{name:"show",rawName:"v-show",value:e.cta,expression:"cta"}],staticClass:"cta",attrs:{title:e.cta,href:e.ctaUrl?e.ctaUrl:null},on:{mouseleave:function(t){return e.onRowLeave(t)},mouseenter:function(t){return e.onRowEnter(t,e.items.length)},click:e.onClick}},[i("span",{directives:[{name:"g-image",rawName:"v-g-image"}],ref:"CtaText",staticClass:"text _wrap",domProps:{innerHTML:e._s(e.cta)}}),i("i",{staticClass:"icon",style:{width:e.iconWidth}},[i("SvgJobApplication",{staticClass:"svg"})],1)])])])}),[],!1,null,"303e8c89",null);"function"==typeof v.a&&v()(m);t.a=m.exports},"5BIx":function(e,t){},"5jOF":function(e,t,i){"use strict";i("n0mz")},"8VaL":function(e,t,i){},"9FeP":function(e,t,i){},"B9N+":function(e,t){},Bj9G:function(e,t,i){"use strict";i("TMXb");var s=i("VTBJ"),n=i("Womt"),o=i("LvDl"),a=i("L2JU"),r={name:"GLRenderer",props:{scenes:{type:Array,required:!0,default:function(){return null}}},data:function(){return{renderer:null,clock:null,position:0,scenesAdded:[],scenesTextures:[],handlers:{resize:this.resize.bind(this),render:this.render.bind(this)},unwatch_isVpDesktop:void 0}},computed:Object(s.a)(Object(s.a)({},Object(a.b)({locale:"I18n/localeName",viewport:"Interface/viewport",pixelRatio:"Interface/pixelRatio",isVpDesktop:"Interface/isVpDesktop",webglRenderer:"App/webglRenderer",pageReady:"App/pageReady"})),{},{hasMultipleScenes:function(){return this.scenes.length>1},sceneCommonOptions:function(){return{parentEL:this.$el.parentElement,rendererEL:this.renderer.domElement,isDesktop:this.isVpDesktop,viewport:this.viewport,renderer:this.renderer,pixelRatio:this.pixelRatio,locale:this.locale}}}),watch:{viewport:{handler:function(){this.resize()},deep:!0},isVpDesktop:{handler:function(){this.create()}}},beforeDestroy:function(){this.renderer&&(this.clear(),this.renderer.dispose()),Object(o.each)(this.scenesAdded,(function(e){return e.dispose()})),this.clock&&this.clock.stop(),this.clock=null,this.renderer=null,this.scenesAdded=[]},mounted:function(){var e=this;this.$nextTick((function(){e.create()}))},methods:{create:function(){this.clear();var e=this.scenesAdded.length>0;this.init(),this.initScenes(e)},init:function(){if(!this.renderer){this.clock=new n.i,this.renderer=this.webglRenderer,this.renderer.autoClear=!1,this.renderer.setPixelRatio(this.pixelRatio),this.renderer.setClearColor(new n.j(0),0),this.renderer.setSize(this.viewport.width,this.viewport.height),this.renderer.domElement.classList.add("gl-canvas");try{this.$el.appendChild(this.renderer.domElement)}catch(e){}}},initScenes:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(o.each)(this.scenesAdded,(function(e){return e.dispose()})),this.scenesAdded=[],Object(o.each)(this.scenes,(function(i,n){var o=i.glScene,a=i.selector,r=i.settings,l=new o(Object(s.a)(Object(s.a)({elmts:e.$parent.$el.querySelectorAll(a),name:"scene-".concat(n)},r),e.sceneCommonOptions));l.init(!!r.keepOnResize&&t),e.scenesAdded.push(l)}))},resize:function(){var e=this;this.renderer&&(this.renderer.setSize(this.viewport.width,this.viewport.height),Object(o.each)(this.scenesAdded,(function(t){return t.resize(e.viewport)})))},clear:function(){this.webglRenderer.clear()},render:function(){var e=this;if(this.renderer){this.renderer.clear();var t=null;Object(o.each)(this.scenesAdded,(function(i){var s=i.options.dragging?e.dragPosition:e.position;if(i.render(e.clock.getElapsedTime(),s),i.isVisible()){var n=i.options.zIndex||-1;e.renderer.domElement.style.zIndex!==n&&(t=n)}}));var i="translate(0, ".concat(this.position,")");this.renderer.domElement.style.webkitTransform=i,this.renderer.domElement.style.msTransform=i,this.renderer.domElement.style.transform=i,null!==t&&(this.renderer.domElement.style.zIndex=t)}},refresh:function(){var e=this;Object(o.each)(this.scenesAdded,(function(t,i){var s=e.scenes[i].selector;t.refresh(e.$parent.$el.querySelectorAll(s))}))},savePosition:function(e){this.position=e},saveDragPosition:function(e){this.dragPosition=e},getSceneAt:function(e){return this.scenesAdded[e]}}},l=(i("plGU"),i("KHd+")),c=i("lV3y"),h=i.n(c),u=Object(l.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"__renderer"})}),[],!1,null,"a12bff18",null);"function"==typeof h.a&&h()(u);t.a=u.exports},"EEJ+":function(e,t,i){},EXdr:function(e,t,i){},G4ji:function(e,t,i){"use strict";i("pol5"),i("IjEv"),i("l2Ro"),i("mSpg");var s=i("VTBJ"),n=i("LvDl"),o=i("L2JU");t.a={metaInfo:function(){var e;return{title:null===(e=this.seo)||void 0===e?void 0:e.title,meta:this.seo_mixin__info_metas,link:this.seo_mixin__info_links,htmlAttrs:{lang:this.seo_mixin__iso}}},computed:Object(s.a)(Object(s.a)({},Object(o.b)({seo_mixin__locale:"I18n/localeCode",seo_mixin__iso:"I18n/localeIso",seo_mixin__locale_alternate:"I18n/otherLocaleIso",seo_mixin__translated_url:"I18n/translatedUrl"})),{},{seo_mixin__url:function(){return"".concat("https://kffein.com").concat(this.$route.fullPath)},seo_mixin__translated_url:function(){return this.$context.translated_url||this.translated_url},seo_mixin__url_alternate:function(){return"".concat("https://kffein.com").concat(this.seo_mixin__translated_url)},seo_mixin__sitename:function(){var e="SEO.sitename";return this.$te(e)?this.$t(e):null},seo_mixin__fbAppId:function(){return"597866454288478"}}),watch:{seo:{immediate:!0,handler:function(e){e&&this.seo_mixin__setMetas()}}},methods:{seo_mixin__setMetas:function(){var e,t;if(!this.seo)throw new Error("Missing data `seo`");var i=[],s=this.seo,o=s.description,a=s.keywords;Object(n.each)({description:o,keywords:a},(function(e,t){e&&i.push({name:t,content:e,vmid:t})}));var r,l,c,h,u,d,p={},v=null!==(e=null===(t=this.seo)||void 0===t?void 0:t.socials)&&void 0!==e?e:{},m=v.facebook,f=v.twitter;m&&(p.fb={app_id:this.seo_mixin__fbAppId},p.og={title:m.title,description:m.description,"image:url":null===(r=m.image)||void 0===r?void 0:r.url,"image:alt":null===(l=m.image)||void 0===l?void 0:l.alt,"image:width":null===(c=m.image)||void 0===c?void 0:c.width,"image:height":null===(h=m.image)||void 0===h?void 0:h.height,url:this.seo_mixin__url,locale:this.seo_mixin__locale,"locale:alternate":this.seo_mixin__locale_alternate,type:"website",site_name:this.seo_mixin__sitename});f&&(p.twitter={title:f.title,description:f.description,image:null===(u=f.image)||void 0===u?void 0:u.url,"image:alt":null===(d=f.image)||void 0===d?void 0:d.alt,card:"summary_large_image",url:this.seo_mixin__url});Object(n.each)(p,(function(e,t){Object(n.each)(e,(function(e,s){if(e){var n="".concat(t,":").concat(s);i.push({vmid:n,property:n,content:e})}}))})),this.seo_mixin__info_metas=i,this.seo_mixin__translated_url&&(this.seo_mixin__info_links=[{vmid:"alternate",rel:"alternate",href:this.seo_mixin__url_alternate,hreflang:this.seo_mixin__locale_alternate}]),"language"===this.$route.name&&(this.seo_mixin__info_links=[{vmid:"canonical",rel:"canonical",href:"https://kffein.com/fr"},{vmid:"alternate",rel:"alternate",href:"https://kffein.com/en",hreflang:"en"}]),this.is404&&i.push({name:"prerender-status-code",content:"404"})}}}},I4At:function(e,t,i){"use strict";i("9FeP")},Iemf:function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));i("c5Om"),i("TMXb"),i("/Q1v"),i("FKdK"),i("G0FF"),i("d+3X");var s=i("VTBJ"),n=i("1OyB"),o=i("vuIU"),a=i("md7G"),r=i("JX7q"),l=i("ReuC"),c=i("foSv"),h=i("Ji7U"),u=i("LK+K"),d=i("0cQX"),p=i("LvDl"),v=i("z/o8"),m=i("Womt"),f=i("Sd6+"),g=i("Q+xJ"),b=i("993r"),y=function(e){Object(h.a)(d,e);var t=Object(u.a)(d);function d(e){var i;return Object(n.a)(this,d),(i=t.call(this,e)).handlers={mouseover:i.onOver.bind(Object(r.a)(i)),mouseout:i.onOut.bind(Object(r.a)(i)),mousemove:i.onMove.bind(Object(r.a)(i))},i.vecMouse=new m.ub,i.textures={},i.passes={},i.mouse={x:0,y:0,vx:0,dx:0},i.navigating=!1,Object(a.a)(i,Object(r.a)(i))}return Object(o.a)(d,[{key:"init",value:function(){var e=this;Object(l.a)(Object(c.a)(d.prototype),"init",this).call(this),this.passes.smaa=new b.a(this.viewport.width*this.options.pixelRatio,this.viewport.height*this.options.pixelRatio),this.composer.addPass(this.passes.smaa),Object(p.each)(this.elmts,(function(t){e.textures[t.parentElement.dataset.cover]=(new m.pb).load(e._src(t.parentElement.dataset.cover)),t.addEventListener("mouseover",e.handlers.mouseover),t.addEventListener("mouseout",e.handlers.mouseout)})),this.options.parentEL.addEventListener("mousemove",this.handlers.mousemove),this.projectOver=new m.L(new m.X(0,0,32,32),new m.ib({vertexShader:g.a,fragmentShader:f.a,uniforms:{time:{value:0},uTexture:{value:null},vertical:{value:0},opacity:{value:0},velocity:{value:0},stopped:{value:0}}})),this.scene.add(this.projectOver),this.resize(this.viewport)}},{key:"dispose",value:function(){var e=this;Object(l.a)(Object(c.a)(d.prototype),"dispose",this).call(this),this.options.parentEL.removeEventListener("mousemove",this.handlers.mousemove),Object(p.each)(this.elmts,(function(t){t.removeEventListener("mouseover",e.handlers.mouseover),t.removeEventListener("mouseout",e.handlers.mouseout)})),Object(p.each)(this.textures,(function(e){return e.dispose()})),this.textures=null}},{key:"resize",value:function(e){Object(l.a)(Object(c.a)(d.prototype),"resize",this).call(this,e),this.passes.smaa.setSize(this.viewport.width,this.viewport.height)}},{key:"render",value:function(e){Object(l.a)(Object(c.a)(d.prototype),"render",this).call(this),this.isVisible()&&(this.updatePosition(),this.updateShader(e),this.composer.render())}},{key:"refresh",value:function(e){var t=this;Object(l.a)(Object(c.a)(d.prototype),"refresh",this).call(this,e),Object(p.each)(this.elmts,(function(e){e.removeEventListener("mouseover",t.handlers.mouseover),e.removeEventListener("mouseout",t.handlers.mouseout)})),Object(p.each)(e,(function(e){t.textures[e.parentElement.dataset.cover]||(t.textures[e.parentElement.dataset.cover]=(new m.pb).load(t._src(e.parentElement.dataset.cover))),e.addEventListener("mouseover",t.handlers.mouseover),e.addEventListener("mouseout",t.handlers.mouseout)})),this.elmts=e}},{key:"updatePosition",value:function(){if(!this.navigating){this.vecMouse.set(this.mouse.x,this.mouse.y,.5),this.vecMouse.unproject(this.camera);var e=this.vecMouse.sub(this.camera.position).normalize(),t=-this.camera.position.z/e.z,i=this.camera.position.clone().add(e.multiplyScalar(t)),s=m.J.clamp(.45*this.mouse.dx,-30,30);v.b.timeline().to(this.projectOver.position,1,{x:i.x,y:i.y,z:i.z,ease:"power3.out"},"start").to(this.projectOver.rotation,.5,{z:-m.I.degToRad(s),ease:"expo.out"},"start")}}},{key:"updateShader",value:function(e){this.projectOver.material.uniforms.time.value=e,v.b.to(this.projectOver.material.uniforms.velocity,1,{value:m.J.clamp(.01*this.mouse.dx,-.4,.4),ease:"expo.out"})}},{key:"onOver",value:function(e){if(this.viewport&&!(this.viewport.width<=1e3||this.navigating)){this.projectOver.scale.set(350,250,300),this.projectOver.material.uniforms.opacity.value=1;var t=e.target===Object(p.first)(this.elmts)&&e.offsetY<.5*Object(p.first)(this.elmts).offsetHeight,i=e.target===Object(p.last)(this.elmts)&&e.offsetY>.5*Object(p.last)(this.elmts).offsetHeight;(t||i)&&v.b.timeline().fromTo(this.projectOver.scale,.3,{x:0,y:0,z:0},{x:350,y:250,z:300,ease:"power4.out"},"start"),this.projectOver.material.uniforms.uTexture.value=this.textures[e.target.parentElement.dataset.cover],this.projectOver.material.needsUpdate=!0}}},{key:"onOut",value:function(){this.navigating||(this.projectOver.material.uniforms.opacity.value=0,this.projectOver.scale.set(0,0,300))}},{key:"onMove",value:function(e){this.navigating||(this.mouse.dx=e.clientX-this.mouse.vx,this.mouse.vx=e.clientX,this.mouse.x=this.mouse.vx/this.viewport.width*2-1,this.mouse.y=-e.clientY/this.viewport.height*2+1)}},{key:"transition",value:function(e,t){this.navigating=!0;var i=this.calculateUnitSize(this.camera.position.z),n=Object(p.find)(this.elmts,(function(e){return e.parentElement.dataset.path===t})),o=this.viewport.height/this.viewport.width*100<73,a=parseInt(n.parentElement.dataset.width,10),r=parseInt(n.parentElement.dataset.height,10),l=o?r/a:a/r,c=this.mouse.dx>0?Object(p.random)(-80,-30):Object(p.random)(30,80),h={x:o?i.width:i.height*l,y:o?i.width*l:i.height};v.b.timeline().addLabel("init",0).call((function(){e.push(t)}),null,"init+=1.55").to(this.projectOver.scale,2,Object(s.a)(Object(s.a)({},h),{},{ease:"expo.inOut"}),"init").to(this.projectOver.position,1.9,{x:0,y:0,z:0,ease:"power3.inOut"},"init").to(this.projectOver.rotation,1.5,{z:0,ease:"expo.inOut"},"init+=0.15").to(this.projectOver.material.uniforms.stopped,2,{value:1,ease:"expo.inOut"},"init").fromTo(this.mouse,.5,{dx:this.mouse.dx},{dx:c,ease:"sine.out"},"init").fromTo(this.mouse,1,{dx:c},{dx:0,ease:"sine.out"})}},{key:"calculateUnitSize",value:function(e){var t=this.camera.fov*(Math.PI/180),i=2*Math.tan(t/2)*e;return{width:i*this.camera.aspect,height:i}}},{key:"_src",value:function(e){var t=this,s=i("KBIw")("./".concat(e)),n=Object(p.map)(s.srcset,(function(e){var t=e.split(" ");return{size:parseInt(t[1].replace("w",""),10),src:t[0]}})),o="mobile"===this.layout?2:1,a=Object(p.filter)(n,(function(e){return t.viewport.width*o<e.size}));return a.length?Object(p.first)(a).src:Object(p.last)(n).src}}]),d}(d.a)},Ln2k:function(e,t,i){"use strict";var s=i("pVnL"),n=i.n(s),o={functional:!0,render(e,t){const{_c:i,_v:s,data:o,children:a=[]}=t,{class:r,staticClass:l,style:c,staticStyle:h,attrs:u={},...d}=o;return i("svg",{class:[r,l],style:[c,h],attrs:n()({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 19"},u),...d},a.concat([i("g",{attrs:{fill:"#D02929","fill-rule":"evenodd"}},[i("path",{attrs:{d:"M0 11h50V9H0z"}}),i("path",{attrs:{d:"M50.519 11L41 1.481 42.481 0 52 9.519z"}}),i("path",{attrs:{d:"M41 17.519L50.519 8 52 9.481 42.481 19z"}})])]))}};t.a=o},LupT:function(e,t,i){"use strict";i("TMXb"),i("/Q1v"),i("hqZ9");var s=i("VTBJ"),n=i("L2JU"),o=i("LvDl"),a=i("pVnL"),r=i.n(a),l={functional:!0,render(e,t){const{_c:i,_v:s,data:n,children:o=[]}=t,{class:a,staticClass:l,style:c,staticStyle:h,attrs:u={},...d}=n;return i("svg",{class:[a,l],style:[c,h],attrs:r()({viewBox:"0 0 61 32"},u),...d},o.concat([i("path",{staticClass:"contour-eye",attrs:{d:"M60 14.9C53 5.8 42.2 0 30.2 0S7.5 5.8.4 14.9c-.4.5-.4 1.2 0 1.7 7.1 9.1 17.8 14.9 29.8 14.9S52.9 25.7 60 16.6c.4-.5.4-1.2 0-1.7z"}}),i("path",{staticClass:"pupilles",attrs:{d:"M30.2 3.2c-7.1 0-12.8 5.6-12.8 12.6s5.7 12.6 12.8 12.6S43 22.8 43 15.8 37.3 3.2 30.2 3.2zm0 18.6c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6z"}})]))}},c={functional:!0,render(e,t){const{_c:i,_v:s,data:n,children:o=[]}=t,{class:a,staticClass:l,style:c,staticStyle:h,attrs:u={},...d}=n;return i("svg",{class:[a,l],style:[c,h],attrs:r()({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 98.8 90.3"},u),...d},o.concat([i("path",{attrs:{fill:"#FFF",d:"M81.1 48.3s-7.1-5.4-7.8-5.6-11.2-9.1-12-9.4-8.8-2.4-9.8-2-14.8 7.6-14.8 7.6L29.1 44s-1.4-2.4-1-2.8 7-9.2 7-9.2 4.4-4 4.8-4.2 5.8-3 5.8-3l7.2-2.4h10.4l8.5 5.1 5.5 6.2 8.4 10.5v5.9h-4.1c-.1 0-.5-1.8-.5-1.8z"}}),i("path",{staticClass:"hand",attrs:{d:"M34.7 29.2c-10.1 10.1-13.6 22.2-6.6 29.2 2.2 2.6 5.4 4 9.1 3.6 4.2-.6 7.9-3.5 9.9-7.5l.1-8.7c0-1 .8-2.1 1.7-2.1.9-.1 1.7.7 1.7 1.8L50.4 56v.1l6.6-5.6c.8-.8 1.9-.8 2.5-.1.6.6.4 1.8-.5 2.5l-5 4.3c-.8.7-.8 1.8.2 2.3l3.3 1.9c1 .6 1.3 1.6.8 2.5-.3.4-.8.8-1.3.8-.4-.5-.7-1-1.1-1.4-4.3-4.3-11.2-4.4-15.3-.2-4 4-4 10.7.1 15.1l.1.1.1.1c2.1 2.1 4.9 3.3 7.7 3.3 3.5.5 8.1.3 13.6-2.3l8.1 8.1c3.3 3.3 11.9.1 19.1-7.1s10.4-15.8 7.1-19.1l-7.9-7.9c.6-7.6-2.8-16.5-10-23.8-10.5-10.5-24.7-12.9-33.3-8-3.8 1.8-7.4 4.3-10.6 7.6zm52.9 27.5l4.5 4.5s6.2 4.9-3.6 14.8l-8.9-8.9s7.7-6.5 8-10.4zm-33.9-33c17.8-1.8 29.6 21.8 29.6 21.8C58.1 8 30.6 40.6 30.6 40.6c9.6-16.4 23.1-16.9 23.1-16.9z"}}),i("path",{staticClass:"bam",attrs:{d:"M33.2 28.8c3.2-3.3 6.8-5.8 10.4-7.4 3-1.7 6.8-2.9 10.7-2.9l2.4-9.3-14.2 8.1L36.6 2l-6.8 15-13.9-8.9 3.3 16.1-16.3.9 12 11.1L2.2 46.6l16.3 1.8-4.2 15.9 11.9-6.8c-6.4-7-2.9-18.8 7-28.7z"}})]))}},h=i("z/o8"),u=i("THhm"),d=i("jVun"),p={name:"JobsPrefooter",components:{eyeSvg:l,UiCta:u.a,UiWysiwyg:d.a,Glove:c},props:{prefooter:{type:Object,default:null}},data:function(){return{ratioX:50,ratioY:30,handlers:{move:this.onMouseMove.bind(this),punch:this.punch.bind(this),reset:this.reset.bind(this)},eyeDelays:{left:null,right:null},mouse:{x:0,y:0},pctAnim:55,hasLeaved:!1,paused:!1,visible:!1}},computed:Object(s.a)(Object(s.a)({},Object(n.b)({siteId:"I18n/siteId",layout:"Interface/layout",device:"Interface/device",viewport:"Interface/viewport",scrollDirection:"Interface/scrollDirection"})),{},{isLayoutTablet:function(){return!!this.device.scrolltouch&&(this.device.scrolltouch&&"desktop"!==this.device.type)},isLayoutMobile:function(){return"mobile"===this.layout||this.isLayoutTablet},section:function(){var e=this;return Object(o.flow)([function(e){return e.globals.edges},function(e){return Object(o.map)(e,(function(e){return e.node}))},function(t){return Object(o.find)(t,{siteId:e.siteId})},function(e){return e.looking_for_section}])(this.$static)},title:function(){return this.section.title},content:function(){return this.section.text},cta:function(){return Object(s.a)(Object(s.a)({},this.section.cta),{},{url:"".concat(this.section.cta.url,"#Jobs")})},sideText:function(){return this.section.sideText}}),watch:{hasLeaved:function(e){e&&h.a.to(this.cursor,.3,{x:"".concat(this.mouse.x,"px"),rotation:"".concat(this.calculateRotate(this.cursor,this.elementToWatch)+70,"_short"),scaleX:0,scaleY:0,ease:"power4.out"})}},beforeDestroy:function(){this.resetListeners()},methods:{initMouseMove:function(e){if(this.visible=e,e||this.pupilles){var t=this.$refs,i=t.EyeLeft,s=t.EyeRight;Object(o.each)([i,s],(function(e){return e.classList.remove("--punched")})),this.pupilles=this.$el.querySelectorAll(".pupilles"),this.isLayoutMobile?(this.$el.addEventListener("touchstart",this.handlers.punch),this.$el.addEventListener("touchend",this.handlers.reset)):(this.cursor=this.$refs.Box,this.elementToWatch=this.$refs.eyes,this.$el.addEventListener("mousemove",this.handlers.move),this.$el.addEventListener("mousedown",this.handlers.punch),this.$el.addEventListener("mouseup",this.handlers.reset))}},resetListeners:function(){this.$el.removeEventListener("mousemove",this.handlers.move),this.$el.removeEventListener("mousedown",this.handlers.punch),this.$el.removeEventListener("mouseup",this.handlers.reset),this.$el.removeEventListener("touchstart",this.handlers.punch),this.$el.removeEventListener("touchend",this.handlers.reset)},animScroll:function(){if(this.pctAnim>55)this.pctAnim="up"===this.scrollDirection?this.pctAnim+=1:this.pctAnim-=1;else{this.pctAnim="up"===this.scrollDirection?this.pctAnim+=1:this.pctAnim-=1,this.pctAnim<0&&(this.pctAnim=0);var e=this.$refs.mainSVG.querySelector("#Text");h.a.killTweensOf(e),h.a.to(e,{duration:.4,attr:{startOffset:"".concat(this.pctAnim,"%")},ease:"power1.out"})}},onMouseMove:function(e){this.mouse.x=e.clientX,this.mouse.y=e.clientY},follow:function(){var e=this;if("mobile"!==this.layout&&this.pupilles&&!this.paused){var t=this.viewport.width,i=this.viewport.height,s=this.$el.getBoundingClientRect(),n=this.mouse.y-s.top;Object(o.each)(this.pupilles,(function(s,n){var o=e.pupilles[n].getBoundingClientRect(),a=o.x,r=o.y,l=o.width,c=o.height,u=e.mouse.x-a-l/2,d=e.mouse.y-r-c/2,p=u/t,v=d/i,m=Math.min(Math.max(parseInt(e.ratioX*p*20,10),-25),25);h.a.to(s,{duration:.2,x:m,y:e.ratioY*v})}));var a=s.height-40;this.hasLeaved=n-40<80||a-n<80,h.a.to(this.cursor,.3,{x:"".concat(this.mouse.x,"px"),y:"".concat(n,"px"),rotation:"".concat(this.calculateRotate(this.cursor,this.elementToWatch)+70,"_short"),scaleX:this.hasLeaved?0:1,scaleY:this.hasLeaved?0:1,ease:"power4.out"})}},punch:function(e){var t=this;this.isLayoutMobile||(h.a.fromTo(this.cursor.querySelector(".hand"),.3,{y:-30,x:-20},{x:0,y:0,overwrite:!1,ease:"back.out"}),h.a.fromTo(this.cursor.querySelector(".bam"),.1,{x:5,opacity:0},{x:0,opacity:1,ease:"expo.out"}));var i=this.$el.querySelectorAll(".eye");Object(o.each)(i,(function(i){i===e.target&&t.boxed(i)}))},reset:function(){this.isLayoutMobile||h.a.to(this.cursor.querySelector(".bam"),.3,{x:5,opacity:0,ease:"expo.out"})},calculateRotate:function(e,t){if(!e)return 0;var i=e.getBoundingClientRect(),s=t.getBoundingClientRect(),n=i.left+e.getBoundingClientRect().width/2,o=i.top+e.getBoundingClientRect().height/2,a=s.left+t.getBoundingClientRect().width/2,r=s.top+t.getBoundingClientRect().height/2;return Math.atan2(a-n,r-o)*(180/Math.PI)*-1+180},boxed:function(e){if(!e.classList.contains("--punched")){var t=e.classList.contains("-left")?this.eyeDelays.left:this.eyeDelays.right;clearTimeout(t),t=setTimeout((function(){e.classList.remove("--punched"),h.a.from(e,.2,{scaleY:0,ease:"back.out"})}),7e3),e.classList.add("--punched")}},onEnterStage:function(){this.paused=!1},onLeaveStage:function(){this.paused=!0,this.hasLeaved=!0}}},v=(i("mlJN"),i("KHd+")),m=i("kzuQ"),f=i.n(m),g=i("Kw5r"),b=g.a.config.optionMergeStrategies.computed,y={globals:{edges:[{node:{siteId:2,looking_for_section:{title:"WE'RE LOOKING FOR",text:'<p>A <a href="https://kffein.com/en/career/developpeur-web-backend">backend developper</a> &amp; many more <a href="https://kffein.com/en/talent/">friends</a></p>\n<p>And that\'s it! </p>',sideText:"STUDIO KFFEIN",cta:{type:"internal",label:"View all openings",url:"en/talent"}}}},{node:{siteId:1,looking_for_section:{title:"ON CHERCHE",text:'<p>Un <a href="https://kffein.com/fr/carriere/developpeur-web-backend/">développeur.euse back-end</a> et plein d\'autres <a href="https://kffein.com/fr/carriere/">amis</a>.<br /></p>',sideText:"STUDIO KFFEIN",cta:{type:"internal",label:"Voir tous les postes",url:"fr/carriere"}}}}]}},w=function(e){var t=e.options;t.__staticData?t.__staticData.data=y:(t.__staticData=g.a.observable({data:y}),t.computed=b({$static:function(){return t.__staticData.data}},t.computed))},x=Object(v.a)(p,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{directives:[{name:"scroll-theme",rawName:"v-scroll-theme",value:"light",expression:"'light'"},{name:"observe-scroll",rawName:"v-observe-scroll",value:{callback:e.initMouseMove,intersection:{threshold:0}},expression:"{\n    callback: initMouseMove,\n    intersection: {\n      threshold: 0,\n    }\n  }"}],class:["JobsPrefooter",{"-inside":!e.hasLeaved}],on:{mouseenter:e.onEnterStage,mouseleave:e.onLeaveStage}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLayoutMobile,expression:"!isLayoutMobile"}],ref:"Box",staticClass:"boxing-glove"},[i("Glove",{staticClass:"Glove"})],1),i("div",{staticClass:"container"},[i("svg",{directives:[{name:"show",rawName:"v-show",value:"desktop"===e.layout,expression:"layout === 'desktop'"}],ref:"mainSVG",staticClass:"jobs-path",staticStyle:{"enable-background":"new 0 0 618.1 285.8"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 618.1 285.8","xml:space":"preserve"}},[i("defs",[i("path",{attrs:{id:"MyPath",d:"M616.9,285.6V150.9c0-82.6-67-149.6-149.6-149.6H0.2"}})]),i("text",{attrs:{"font-size":"35"}},[i("textPath",{attrs:{id:"Text",fill:"white","font-family":"fontBook","xlink:href":"#MyPath",startOffset:"55%","stroke-width":"0.5"}},[e._v("STUDIO KFFEIN")])])]),i("h2",{directives:[{name:"g-image",rawName:"v-g-image"}],staticClass:"label",domProps:{innerHTML:e._s(e.title)}}),i("div",{ref:"eyes",staticClass:"eyes"},[i("div",{ref:"EyeLeft",staticClass:"eye -left"},[i("div",{staticClass:"cross"}),i("eyeSvg",{ref:"pupille"})],1),i("div",{ref:"EyeRight",staticClass:"eye -right"},[i("div",{staticClass:"cross"}),i("eyeSvg",{ref:"pupille"})],1)]),i("div"),i("UiWysiwyg",{directives:[{name:"g-image",rawName:"v-g-image"}],attrs:{prefooter:!0},domProps:{innerHTML:e._s(e.content)}}),i("div",{staticClass:"cta"},[i("UiCta",e._b({staticClass:"link"},"UiCta",e.cta,!1))],1)],1)])}),[],!1,null,"6ca98b8d",null);"function"==typeof f.a&&f()(x),"function"==typeof w&&w(x);t.a=x.exports},Nfa9:function(e,t,i){"use strict";i("EXdr")},PUn4:function(e,t,i){},PuBE:function(e,t){},"Q+xJ":function(e,t,i){"use strict";t.a="#define GLSLIFY 1\nvarying vec2 vUv;\nuniform float time;\nuniform float velocity;\nuniform float stopped;\nuniform float vertical;\n\n//\tSimplex 3D Noise \n//\tby Ian McEwan, Ashima Arts\n//\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}\n\nfloat snoise(vec3 v){ \n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //  x0 = x0 - 0. + 0.0 * C \n  vec3 x1 = x0 - i1 + 1.0 * C.xxx;\n  vec3 x2 = x0 - i2 + 2.0 * C.xxx;\n  vec3 x3 = x0 - 1. + 3.0 * C.xxx;\n\n// Permutations\n  i = mod(i, 289.0 ); \n  vec4 p = permute( permute( permute( \n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients\n// ( N*N points uniformly over a square, mapped onto an octahedron.)\n  float n_ = 1.0/7.0; // N=7\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \n                                dot(p2,x2), dot(p3,x3) ) );\n}\n\nvoid main() {\n  vUv = uv;\n\n  vec3 pos = position;\n  float noiseFreq = 1.0;\n  float noiseAmp = 0.05 + velocity;\n  vec3 noisePos = vec3(0.);\n\n  if(vertical == 1.0) {\n    noisePos = vec3(pos.x, pos.y * noiseFreq + time, pos.z);\n  }\n  else {\n    noisePos = vec3(pos.x * noiseFreq + time, pos.y, pos.z);\n  }\n\n  pos.z += snoise(noisePos) * noiseAmp;\n  \n  if(stopped > 0.0) pos.z = mix(pos.z, position.z, stopped); \n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.);\n}\n"},SYhu:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));i("TMXb");var s=i("VTBJ"),n=i("1OyB"),o=i("vuIU"),a=i("ypls"),r=i("yTXx");var l=function(){function e(t){var i,o,a;return Object(n.a)(this,e),this.options=Object(s.a)({isFirefox:"firefox"===(null===(i=t.store)||void 0===i?void 0:i.getters["Interface/browserName"]),isWindows:null===(o=t.store)||void 0===o||null===(a=o.getters["Interface/device"])||void 0===a?void 0:a.windows,isMobile:!1},t),this.paused=!1,this.position=0,this.posTarget=0,this.scrollRect=this.options.el.querySelector(".content").getBoundingClientRect(),this.scrollRectFixed=!1,this.scrollEvent=this.options.isFirefox?"DOMMouseScroll":"mousewheel",this.speed=.115,this.mobile=this.options.mobile,this.handlers={scroll:this.scrolling.bind(this),render:this.render.bind(this)},this}return Object(o.a)(e,[{key:"dispose",value:function(){this.disable(),this.scrollRectFixed=!1,this.handlers=null,this.hammertime=null,this.options.isMobile=!1}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&!this.hammertime&&(this.options.isMobile=!0,this.hammertime=new r.a(this.options.el),this.hammertime.get("pan").set({direction:r.a.DIRECTION_ALL})),this.hammertime?this.hammertime.on(this.options.horizontal?"panleft panright":"panup pandown",this.handlers.scroll):this.mobile||window.addEventListener(this.scrollEvent,this.handlers.scroll),this.options.horizontal?this.options.el.scrollLeft=this.position:this.options.el.scrollTop=this.position,this.handlers.render()}},{key:"disable",value:function(){this.hammertime&&this.hammertime.off(this.options.horizontal?"panleft panright":"panup pandown",this.handlers.scroll),window.removeEventListener(this.scrollEvent,this.handlers.scroll),this.hammertime&&(this.hammertime.remove("pan"),this.hammertime.destroy(),this.hammertime=null),cancelAnimationFrame(this.RAF)}},{key:"scrolling",value:function(e){if(!this.paused){var t;if(.115!==this.speed&&(this.speed=.115),!this.scrollRectFixed){var i=this.options.horizontal?".scroll-wrapper":".content",s=this.options.el.querySelector(i).getBoundingClientRect();t=this.options.horizontal?s.width:s.height,this.scrollRect===t&&(this.scrollRectFixed=!0),this.scrollRect=t}var n,o,a,r,l,c,h,u,d,p,v=(n=e,o=this.options,a=n.wheelDelta,r=n.detail,l=n.velocity,c=o.isMobile,h=void 0!==c&&c,u=o.isFirefox,d=void 0!==u&&u,p=o.isWindows,h?20*-l:void 0!==p&&p&&!d?80*((r&&0!==r?r>0:a<0)||-1):25*(r&&0!==r?.8*r:-a/120));this.posTarget+=v;var m=this.options.horizontal?this.options.viewport.width:this.options.viewport.height;this.posTarget<0&&(this.posTarget=0),this.posTarget>this.scrollRect-m-1&&(this.posTarget=this.scrollRect-m-1)}}},{key:"scrollTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?this.speed=.046:this.position=e,this.posTarget=e}},{key:"resize",value:function(e){this.options.viewport=e,this.scrollRectFixed=!1}},{key:"render",value:function(){if(!this.paused){if(!this.mobile){this.position=a.a.lerp(this.position,this.posTarget,this.speed);var e=this.options.horizontal?this.options.el.scrollLeft:this.options.el.scrollTop;Math.abs(this.position-e)>1&&(this.options.store.dispatch("Interface/ON_SCROLL",this.position),this.options.horizontal?this.options.el.scrollLeft=this.position:this.options.el.scrollTop=this.position)}void 0!==this.options.renderTick&&this.options.renderTick(),this.RAF=requestAnimationFrame(this.handlers.render)}}},{key:"swapDevice",value:function(e,t){this.disable(),this.scrollTo(0,!1),this.mobile=e,this.enable(t)}},{key:"pause",value:function(){this.paused=!0}},{key:"unpause",value:function(){this.paused=!1,this.handlers.render()}}]),e}()},"Sd6+":function(e,t,i){"use strict";t.a="#define GLSLIFY 1\nvarying vec2 vUv;\nuniform float opacity;\nuniform sampler2D uTexture;\n\nvoid main() {\n  vec3 fTexture = vec3(texture2D(uTexture, vUv));\n  gl_FragColor = vec4(fTexture, opacity);\n}\n"},THhm:function(e,t,i){"use strict";i("zPAV"),i("TMXb"),i("hHd6"),i("hqZ9");var s=i("VTBJ"),n=i("LvDl"),o=i("z/o8"),a=i("L2JU"),r={name:"UiCta",props:{type:{type:String,default:"internal"},url:{type:String,default:null},label:{type:String,default:null},title:{type:String,default:null},scrollTo:{type:String,default:null},inversed:{type:Boolean,default:!1},action:{type:Function,default:null}},data:function(){return{tl:null,rotateTl:null}},computed:Object(s.a)(Object(s.a)({},Object(a.b)({locale:"I18n/localeName",layout:"Interface/layout",smoothScroll:"Interface/smoothScroll"})),{},{mobile:function(){return"mobile"===this.layout},tag:function(){return this.scrollTo||this.action?"div":"g-link"},_attr:function(){var e={title:this.title};return this.scrollTo||this.action||("internal"===this.type?Object(n.assign)(e,{to:"/".concat(this.url)}):Object(n.assign)(e,{href:this.url})),e}}),watch:{layout:{handler:function(e){var t=this;"mobile"!==e||this.inversed?setTimeout((function(){t.tl.resume(0),t.tl.pause()}),0):setTimeout((function(){t.tl.play()}),0)}}},mounted:function(){i.e(484).then(i.bind(null,"Ci6W")).then(this.init.bind(this))},methods:{init:function(e){var t=e.MorphSVGPlugin;o.b.registerPlugin(t),this.inversed?(t.convertToPath(this.$refs.Star),this.tl=o.b.timeline({paused:!0}).to(this.$el.querySelector(".star"),{morphSVG:this.$refs.Circle,duration:.4,ease:"elastic.inOut"})):(t.convertToPath(this.$refs.Circle),this.tl=o.b.timeline({paused:!0}).to(this.$el.querySelector(".circle"),{morphSVG:this.$refs.Star,duration:.4,ease:"elastic.inOut"})),"mobile"!==this.layout||this.inversed||this.tl.play(),o.b.to(this.$el.querySelector(".bang-bang"),60,{rotation:"-360deg",repeat:-1})},over:function(){"mobile"!==this.layout&&(this.tl.play(),o.b.to(this.$el.querySelector(".bang-bang"),.5,{rotation:"0deg",overwrite:!0,ease:"expo.out"}))},out:function(){"mobile"!==this.layout&&(this.tl.reverse(),o.b.to(this.$el.querySelector(".bang-bang"),60,{rotation:"-360deg",overwrite:!0,repeat:-1}))},click:function(e){var t;this.scrollTo?(e.preventDefault(),e.stopPropagation(),this.mobile?this.$store.dispatch("Interface/SCROLL_TO",{to:document.querySelector(this.scrollTo).offsetTop-70}):this.smoothScroll.scrollTo(document.querySelector(this.scrollTo).offsetTop,!0)):null===(t=this.action)||void 0===t||t.call(this)}}},l=(i("0Qi8"),i("KHd+")),c=i("PuBE"),h=i.n(c),u=Object(l.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"UiCta",on:{mouseout:e.out,mouseover:e.over,click:e.click}},[i(e.tag,e._b({tag:"component",staticClass:"bang-bang",attrs:{"data-inversed":e.inversed}},"component",e._attr,!1),[e._t("default",[i("svg",{staticStyle:{"enable-background":"new 0 0 196 194"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 196 194","xml:space":"preserve"}},[i("polygon",{ref:"Star",staticClass:"star fill-red",attrs:{points:"112.5,51.6 152.4,16.2 135.9,66.9 188.6,58.6 147.2,92.3 196,113.9 143,119.8\n        172.3,164.3 124.5,140.7 125.1,194 97.7,148.3 69.3,193.5 71,140.2 22.7,162.9 52.9,119 0,112 49.2,91.4 8.5,57 61,66.1 45.4,15.2\n        84.6,51.3 99.1,0 "}}),i("circle",{ref:"Circle",staticClass:"circle fill-red",attrs:{cx:"98",cy:"97",r:"50"}})]),i("span",{directives:[{name:"g-image",rawName:"v-g-image"}],staticClass:"label",domProps:{innerHTML:e._s(e.label)}})])],2)],1)}),[],!1,null,"eef083f6",null);"function"==typeof h.a&&h()(u);t.a=u.exports},UXtm:function(e,t,i){e.exports=i.p+"svg/studio-digital2f07e0b.svg"},WjDL:function(e,t,i){},bdtK:function(e,t){},bpSz:function(e,t,i){"use strict";i("WjDL")},i14r:function(e,t){},ipz2:function(e,t,i){},kzuQ:function(e,t){},lV3y:function(e,t){},lr1y:function(e,t){},mlJN:function(e,t,i){"use strict";i("PUn4")},n0mz:function(e,t,i){},pTb3:function(e,t,i){"use strict";i("8VaL")},plGU:function(e,t,i){"use strict";i("ipz2")},qGlr:function(e,t,i){"use strict";i("EEJ+")},r7qP:function(e,t,i){e.exports=i.p+"svg/digital-studio7494cd7.svg"},tsgV:function(e,t,i){"use strict";i("DswY"),i("TMXb"),i("391k"),i("hqZ9");var s=i("VTBJ"),n=(i("hHd6"),i("L2JU")),o=i("0R8C"),a={PB_Accordion:function(){return Promise.all([i.e(0),i.e(515)]).then(i.bind(null,"EqHM"))},PB_Quote:function(){return Promise.all([i.e(0),i.e(517)]).then(i.bind(null,"93TL"))},PB_Text:function(){return Promise.all([i.e(0),i.e(520)]).then(i.bind(null,"0qqN"))},PB_Gallery:function(){return Promise.all([i.e(0),i.e(508)]).then(i.bind(null,"UvsU"))},PB_Number:function(){return Promise.all([i.e(0),i.e(519)]).then(i.bind(null,"16YQ"))},PB_Code:function(){return Promise.all([i.e(0),i.e(512),i.e(516)]).then(i.bind(null,"J6ND"))},PB_Cta:function(){return Promise.all([i.e(0),i.e(514)]).then(i.bind(null,"rBeV"))},PB_Embed:function(){return Promise.all([i.e(0),i.e(518)]).then(i.bind(null,"EBNH"))},PB_Video:function(){return Promise.all([i.e(0),i.e(507)]).then(i.bind(null,"5wjE"))}},r={name:"PageBuilder",components:a,props:{tag:{type:String,default:"div"},pagebuilder:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:Object(s.a)({},Object(n.b)({isDesktop:"Interface/isDesktop"})),mounted:function(){},methods:{getDynamicComponent:function(e){var t="PB_".concat(o.a.capitalize(e));return a[t]?t:null}}},l=(i("qGlr"),i("KHd+")),c=i("bdtK"),h=i.n(c),u=Object(l.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._l(e.pagebuilder,(function(t){var s=t.id,n=t.component,o=t.data;return[i(e.getDynamicComponent(n),e._b({key:"pb-item-"+s,tag:"component",staticClass:"PageBuilderItem"},"component",o,!1))]}))],2)}),[],!1,null,"4d319850",null);"function"==typeof h.a&&h()(u);var d=u.exports,p=i("G4ji"),v=i("LvDl"),m=i("SYhu"),f={name:"BasePage",components:{PageBuilder:d},mixins:[p.a],data:function(){return{baseTheme:"dark",smoothScroll:null,mutationHandler:{observer:null,callback:this.mutationCallBack.bind(this)},visibleTm:null}},computed:Object(s.a)(Object(s.a)({},Object(n.b)({viewport:"Interface/viewport",layout:"Interface/layout",touch:"Interface/touch",device:"Interface/device",localeName:"I18n/localeName",pageIntroReady:"App/pageIntroReady",open:"Menu/open"})),{},{mobile:function(){return"mobile"===this.layout},page:function(){var e,t,i;return null===(e=Object(v.first)(null===(t=this.$page)||void 0===t||null===(i=t.page)||void 0===i?void 0:i.edges))||void 0===e?void 0:e.node},seo:function(){var e,t;return null!==(e=null===(t=this.page)||void 0===t?void 0:t.seo)&&void 0!==e?e:{}},pagebuilder:function(){return this.page.pagebuilder}}),watch:{viewport:{handler:function(){this.smoothScroll&&this.smoothScroll.resize(this.viewport)},deep:!0},layout:{handler:function(e){"mobile"===e?this.$store.dispatch("Interface/ENABLE_SCROLL"):(this.$store.dispatch("Interface/SCROLL_TOP",0),this.touch?this.$store.dispatch("Interface/ENABLE_SCROLL"):this.$store.dispatch("Interface/DISABLE_SCROLL"))},immediate:!0},mobile:{handler:function(e){this.smoothScroll&&this.smoothScroll.swapDevice(e,this.isIpadBehaviour())}},open:{handler:function(e){var t=this;clearTimeout(this.visibleTm),e?this.smoothScroll&&setTimeout((function(){t.smoothScroll.pause()}),500):this.smoothScroll&&this.smoothScroll.unpause()}}},beforeDestroy:function(){var e,t;this.smoothScroll&&(this.smoothScroll.dispose(),null===(e=this.mutationHandler)||void 0===e||null===(t=e.observer)||void 0===t||t.disconnect())},mounted:function(){var e=this,t=this.$watch("pageIntroReady",(function(i){i&&e.$nextTick((function(){e.smoothScroll=e.createSmoothScroll(),e.mutationHandler.observer=e.observeMutations(),e.smoothScroll.enable(e.isIpadBehaviour()),e.smoothScroll.resize(e.viewport),t()}))}),{immediate:!0});this.$store.dispatch("ScrollMonitor/SET_THEME",this.baseTheme),this.$store.commit("App/SET_PAGE_READY")},methods:{isIpadBehaviour:function(){return this.device.scrolltouch&&!this.mobile},createSmoothScroll:function(){var e=new m.a({el:document.scrollingElement||document.documentElement,store:this.$store,viewport:this.viewport,mobile:this.mobile,renderTick:this.tick});return this.$store.commit("Interface/SET_SMOOTH_SCROLL",{scroll:e}),e},observeMutations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.attributes,i=void 0!==t&&t,s=e.characterData,n=void 0!==s&&s,o=e.childList,a=void 0===o||o,r=e.subtree,l=void 0===r||r,c=e.attributeOldValue,h=void 0!==c&&c,u=e.characterDataOldValue,d=void 0!==u&&u,p=new MutationObserver(this.mutationHandler.callback);return p.observe(document.querySelector(".content"),{attributes:i,characterData:n,childList:a,subtree:l,attributeOldValue:h,characterDataOldValue:d}),p},mutationCallBack:function(e){var t=this;e.forEach((function(){t.smoothScroll&&t.smoothScroll.resize(t.viewport)}))}}},g=(i("Nfa9"),i("5BIx")),b=i.n(g),y=null,w=Object(l.a)(f,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"PageDemo"})}),[],!1,null,"79adf3ec",null);"function"==typeof b.a&&b()(w),"function"==typeof y&&y(w);t.a=w.exports},vBO3:function(e,t,i){"use strict";i.r(t);i("mSpg"),i("hHd6"),i("FKdK"),i("G0FF");var s=i("VTBJ"),n=i("L2JU"),o=i("LvDl"),a=i("LupT"),r=(i("l2Ro"),i("qdS0"),i("TMXb"),i("/Q1v"),i("z6Sc"),i("kvcR"),i("hqZ9"),i("z/o8")),l=i("h20O"),c=(i("qEAZ"),i("1OyB")),h=i("vuIU"),u=null,d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.a)(this,e),this.options=Object(o.assign)({width:155,height:25},t),u=t.pixi,this.active=0,this.el=this.create()}return Object(h.a)(e,[{key:"create",value:function(){var e=new u.Sprite;e.name="player",e.anchor.set(.5,.5),e.alpha=0;var t=new u.Graphics;return t.beginFill(1776411),t.drawRect(0,0,this.options.width,this.options.height),t.endFill(),e.addChild(t),e}},{key:"hit",value:function(){this.active=5}},{key:"step",value:function(){this.active>0&&this.active--}},{key:"x",get:function(){return this.el.x},set:function(e){this.el.x=e}},{key:"y",get:function(){return this.el.y},set:function(e){this.el.y=e}},{key:"pWidth",get:function(){return this.el.getLocalBounds().width}},{key:"pHeight",get:function(){return this.el.getLocalBounds().height}},{key:"isActive",get:function(){return 0===this.active}},{key:"isColliding",get:function(){return this.el.colliding},set:function(e){var t=e?16711680:1776411,i=this.el.getChildAt(0);i.clear(),i.beginFill(t),i.drawRect(0,0,this.options.width,this.options.height),i.endFill(),this.el.colliding=e}}]),e}(),p=null,v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.a)(this,e),this.options=Object(o.assign)({size:29},t),p=t.pixi,this.el=this.create()}return Object(h.a)(e,[{key:"create",value:function(){var e=new p.Sprite;e.name="ball",e.anchor.set(.5,.5);var t=new p.Graphics;return t.beginFill(16532031),t.drawCircle(0,0,this.options.size),t.endFill(),e.addChild(t),e.scale.set(2,2),e}},{key:"x",get:function(){return this.el.x},set:function(e){this.el.x=e}},{key:"y",get:function(){return this.el.y},set:function(e){this.el.y=e}},{key:"offset",get:function(){return this.options.size}},{key:"pWidth",get:function(){return 2*this.options.size}},{key:"pHeight",get:function(){return 2*this.options.size}}]),e}(),m=null,f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.a)(this,e),this.options=Object(o.assign)({},t),m=t.pixi,this.el=this.create()}return Object(h.a)(e,[{key:"borderOffset",value:function(){return this.options.bounds.height<54&&this.options.bounds.height>=50?11:this.options.bounds.height<50&&this.options.bounds.height>=40?8:this.options.bounds.height<40&&this.options.bounds.height>=30?5:13}},{key:"borderSize",value:function(){return this.options.bounds.height<40?2:4}},{key:"create",value:function(){var e=new m.Sprite;e.name="block_".concat(this.options.index),e.x=this.options.bounds.x,e.y=this.options.bounds.y;var t=new m.Graphics;t.name="rigid",t.beginFill(16711680,0),t.drawRect(0,0,this.options.bounds.width,this.options.bounds.height-13),t.endFill(),e.addChild(t);var i=new m.Graphics;return i.name="border",i.beginFill(0,1),i.drawRect(0,0,t.width,this.borderSize()),i.endFill(),i.y=this.options.bounds.height-this.borderOffset(),e.addChild(i),e.pWidth=this.options.bounds.width,e.pHeight=i.y+this.borderSize(),e}},{key:"x",get:function(){return this.el.x+this.el.parent.x},set:function(e){this.el.x=e}},{key:"y",get:function(){return this.el.y+this.el.parent.y},set:function(e){this.el.y=e}},{key:"pWidth",get:function(){return this.el.getLocalBounds().width}},{key:"pHeight",get:function(){return this.el.getLocalBounds().height}},{key:"isColliding",get:function(){return this.el.colliding},set:function(e){this.el.colliding=e}},{key:"alpha",set:function(e){this.el.alpha=e}}]),e}(),g=null,b=null;function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(o.chunk)(Object(o.shuffle)(e),Math.ceil(e.length/2))}var w={words:{fr:["Startups, agences, PME et grandes&nbsp;entreprises&nbsp;: <br> nos clients misent sur notre expertise&nbsp;digitale pour propulser leurs communications numériques.","Startups, agences, PME et grandes&nbsp;entreprises&nbsp;: <br> nos clients misent sur notre expertise&nbsp;digitale pour propulser leurs communications numériques."],en:["Start-ups, agencies, SMBs and large corporations: <br> our clients rely on our expertise to propel their digital communications.","Start-ups, agencies, SMBs and large corporations: <br> our clients rely on our expertise to propel their digital communications."]},wordMatches:{fr:y([0,1,2,4,7,11,16]),en:y([0,1,2,8,12,16])},gifs:y(Object(o.map)(Object(o.range)(1,14),(function(e){return"/cassebrique-assets/gif".concat(e.toString().padStart(2,"0"),".gif")})))},x={data:function(){return{config:w,app:null,paused:!1,isServer:!1,handlers:{move:null,ballOver:null,ballOut:null,ballClick:null,stageClick:null,stageUp:null,stageClickMove:null},ball:null,player:null,blocks:null,states:{ready:!1,running:!1,moving:!1,levelcompleted:!1,touched:!1},currentLevel:Math.random()>.5?1:0,currentGIF:0,mousePosition:{x:0,y:0}}},computed:Object(s.a)(Object(s.a)({},Object(n.b)({localeName:"I18n/localeName",viewport:"Interface/viewport",pixelRatio:"Interface/pixelRatio",device:"Interface/device",layout:"Interface/layout"})),{},{hasPaused:function(){return this.paused},viewportWidth:function(){return this.viewport.width},viewportHeight:function(){return this.viewport.height},isLayoutTablet:function(){return!!this.device.scrolltouch&&(this.device.scrolltouch&&"desktop"!==this.device.type)},isLayoutMobile:function(){return"mobile"===this.layout||this.isLayoutTablet},subtitle:function(){return"fr"===this.localeName?"À propos de nous":"About us"},button:function(){return'<span class="button-text">'.concat(this.$t("PAGE_HOME.dont_push"),'</span><span class="button-text hover">').concat(this.$t("PAGE_HOME.dont_push_hover"),"</span>")},words:function(){var e=this.isLayoutMobile?1:0;return this.config.words[this.localeName][e]},selectedWords:function(){return this.config.wordMatches[this.localeName][this.currentLevel]},selectedGifs:function(){return this.config.gifs[this.currentLevel]},gameSettings:function(){return{speed:{x:4,y:-10,range:20},disableCollisions:!1}}}),watch:{states:{handler:function(e){this.isLayoutMobile||!e.ready||e.running||this.resize()},deep:!0},isLayoutMobile:function(e){e?this.clearPixi():this.addPixi()},viewportWidth:{handler:function(){this.resize()},deep:!0},viewportHeight:{handler:function(){this.resize()},deep:!0}},mounted:function(){var e=this;this.handlers={move:this.onMove.bind(this),ballOver:this.onBallOver.bind(this),ballOut:this.onBallOut.bind(this),ballClick:this.onBallClick.bind(this),stageClick:this.onStageClick.bind(this),stageUp:this.onStageUp.bind(this),stageClickMove:this.onStageClickMove.bind(this)},this.$nextTick((function(){i.e(510).then(i.bind(null,"IqKQ")).then((function(t){(g=t).utils.skipHello(),l.a.registerPIXI(g),r.a.registerPlugin(l.a),clearTimeout(b),b=setTimeout((function(){e.isLayoutMobile?e.clearPixi():e.addPixi()}),500)}))}))},beforeDestroy:function(){this.clearPixi(),this.handlers=null},methods:{addPixi:function(){this.isLayoutMobile||this.app||(this.init(),this.initInterface(),this.resize())},clearPixi:function(){if(this.app&&(this.app.stage.removeChildren(),this.app.stage.off(),this.app.destroy(),this.app=null,this.ball=null,this.player=null,this.blocks=null,this.states={ready:!1,running:!1,moving:!1,levelcompleted:!1},this.handlers)){var e=this.$el.querySelector(".warning");e.removeEventListener("mouseover",this.handlers.ballOver),e.removeEventListener("mouseout",this.handlers.ballOut),e.removeEventListener("click",this.handlers.ballClick),this.$el.removeEventListener("click",this.handlers.stageClick),e.removeEventListener("touchstart",this.handlers.ballClick),this.$el.removeEventListener("touchstart",this.handlers.stageClick),this.$el.removeEventListener("touchend",this.handlers.stageUp),this.$el.removeEventListener("touchmove",this.handlers.stageClickMove),window.removeEventListener("mousemove",this.handlers.move)}},init:function(){if(this.handlers){g.Ticker.shared.autoStart=!1,this.app=new g.Application({transparent:!0,view:this.$refs.Scene,antialias:!0,width:this.viewport.width,height:this.viewport.height,resolution:this.pixelRatio});var e=this.$el.querySelector(".warning");e.addEventListener("mouseover",this.handlers.ballOver),e.addEventListener("mouseout",this.handlers.ballOut),e.addEventListener("click",this.handlers.ballClick),this.$el.addEventListener("click",this.handlers.stageClick),e.addEventListener("touchstart",this.handlers.ballClick),this.$el.addEventListener("touchstart",this.handlers.stageClick),this.$el.addEventListener("touchend",this.handlers.stageUp),this.$el.addEventListener("touchmove",this.handlers.stageClickMove),window.addEventListener("mousemove",this.handlers.move),this.paused||this.pause(!1)}},initInterface:function(){this.app&&(this.player=new d({pixi:g}),this.app.stage.addChild(this.player.el),this.ball=new v({pixi:g}),this.ball.buttonMode=!0,this.app.stage.addChild(this.ball.el))},buildGame:function(){var e=this,t=this.app.stage.getChildByName("blocks");t&&(t.removeChildren(),t.parent.removeChild(t)),this.blocks=[],(t=new g.Sprite).name="blocks",this.app.stage.addChild(t);var i=this.$el.querySelector(".content"),s=this.$el.getBoundingClientRect();Object(o.each)(this.selectedWords,(function(n,o){var a=i.querySelector(".word-".concat(n));if(a){var l=a.getBoundingClientRect(),c=new f({index:o,pixi:g,bounds:{x:l.left,y:l.top+-1*s.top,width:l.width,height:l.height}});t.addChild(c.el),e.blocks.push(c),r.a.from(c.el.getChildByName("border"),.3,{pixi:{scaleX:0},ease:"expo.out",delay:.06*o})}})),this.states.levelCompleted=!1},run:function(){if(!this.paused){if(this.states.ready){var e=this.mousePosition.x-.5*this.player.options.width;e<0&&(e=0),e>this.viewport.width-this.player.options.width&&(e=this.viewport.width-this.player.options.width),r.a.set(this.player,{x:e}),this.states.moving||r.a.set(this.ball,{x:e+.5*this.player.options.width})}this.states.moving&&(this.ball.x+=this.gameSettings.speed.x,this.ball.y+=this.gameSettings.speed.y,this.detectCollisions())}},detectCollisions:function(){var e=this,t=this.blocks.concat(this.player),i=this.ball.offset,s=this.viewport.height+this.ball.offset,n=this.viewport.width-this.ball.offset;this.ball.y<=i&&(this.gameSettings.disableCollisions||(this.gameSettings.speed.y*=-1)),this.ball.y>=i&&(this.gameSettings.disableCollisions=!1),this.ball.y>=s&&(this.gameSettings.disableCollisions=!0,this.ball.y=-200),(this.ball.x<=i||this.ball.x>=n)&&(this.gameSettings.speed.x*=-1),this.player.step();for(var a=Object(o.filter)(t,(function(e){return!e.isColliding})),l=0;l<a.length;l+=1){var c=a[l],h=c.el.name===this.player.el.name,u=this.ball.x,d=this.ball.y;if(this.intersect(u,d,this.ball.offset,c.x,c.y,c.pWidth,c.pHeight)){if(h||(c.isColliding=!0,this.displayGIF(c)),h){if(c.isActive&&!c.isColliding){var p=(u-c.x)/c.pWidth,v=p<.5?-1:1;this.gameSettings.speed.x=p*this.gameSettings.speed.range*v,this.gameSettings.speed.y*=-1,c.hit()}}else this.gameSettings.speed.y*=-1,r.a.to(c.el.getChildByName("border"),.5,{pixi:{x:c.el.pWidth,scaleX:0},overwrite:!0,ease:"expo.out"});break}}1===a.length&&(this.states.levelCompleted||(this.currentLevel+=1,this.currentLevel>=2&&(this.currentLevel=0),Object(o.delay)((function(){e.buildGame()}),1e3),this.states.levelCompleted=!0))},intersect:function(e,t,i,s,n,o,a){var r=e,l=t;e<s?r=s:e>s+o&&(r=s+o),t<n?l=n:t>n+a&&(l=n+a);var c=r-e,h=l-t;return Math.sqrt(c*c+h*h)<=i},displayGIF:function(e){var t=parseInt(Object(o.last)(e.el.name.split("_")),10),i=this.selectedGifs[t],s=this.selectedWords[t],n=this.$el.querySelector(".word-".concat(s)).getBoundingClientRect(),a=this.$el.getBoundingClientRect(),l={x:n.left+.5*(n.width-200),y:-1*a.top+n.top+.5*(n.height-150)},c=2===t&&1===this.currentLevel?3.5:2,h=this.$refs.GIF[this.currentGIF];h.querySelector("img").setAttribute("src",i),r.a.killTweensOf(h),r.a.set(h,{scaleY:1,x:l.x,y:l.y,alpha:1,overwrite:!0}),r.a.timeline().from(h,.15,{y:"+=20",scaleY:0,ease:"back.out"},"init").to(h,.2,{y:"+=20",scaleY:0,ease:"back.in"},"init+=".concat(c)).add((function(){h.querySelector("img").removeAttribute("src")})),this.currentGIF+=1,this.currentGIF===this.$refs.GIF.length&&(this.currentGIF=0)},pause:function(e){this.paused=e,this.app&&this.states.moving&&(this.reset(),this.resize())},reset:function(){this.buildGame(),this.states.moving=!1,Object(o.assign)(this.gameSettings,{speed:{x:4,y:-12,range:20},disableCollisions:!1})},replaceWindow:function(){this.$emit("replace")},resize:function(){if(this.states.ready&&this.reset(),this.app){this.app.renderer.resize(this.viewport.width,this.viewport.height);var e=this.app.stage.getChildByName("blocks");e&&(e.x=0,e.y=0);var t=this.$el.getBoundingClientRect(),i=this.$el.querySelector(".content"),s=-1*t.top+i.getBoundingClientRect().top+i.getBoundingClientRect().height;if(this.ball){this.ball.x=.5*this.viewport.width,this.ball.y=.75*this.viewport.height,s+25>this.ball.y&&(this.ball.y=s+.42*(this.viewport.height-s)),this.player.x=this.ball.x-77,this.player.y=this.ball.y+.5*this.ball.pHeight;var n=this.$el.querySelector(".warning");r.a.set(n,{y:this.ball.y,force3D:!1})}}},onMove:function(e){this.paused||(this.mousePosition.x=e.clientX,this.mousePosition.y=e.clientY)},onBallOver:function(){this.states.ready&&this.ball||r.a.to(this.ball.el,.25,{pixi:{scaleX:3,scaleY:3},ease:"back.out"})},onBallOut:function(){this.states.ready&&this.ball||r.a.to(this.ball.el,.25,{pixi:{scaleX:2,scaleY:2},ease:"back.out"})},onBallClick:function(){var e=this;this.states.ready=!0,r.a.timeline({onComplete:function(){e.states.running=!0}}).addLabel("start").set(this.player.el,{pixi:{alpha:1}},"start").to(this.ball.el,.5,{pixi:{scaleX:1,scaleY:1},ease:"expo.out"},"start").fromTo(this.ball.el,.5,{pixi:{y:this.player.y-2*this.ball.pHeight+this.ball.offset}},{pixi:{y:this.player.y-this.ball.pHeight+this.ball.offset},ease:"bounce.out"},"start+=0.3").from(this.player.el,.5,{pixi:{alpha:0,y:"+=20"},ease:"expo.out"},"start+=0.05"),this.replaceWindow()},onStageClick:function(){this.states.running&&!this.states.moving&&(this.states.moving=!0,this.replaceWindow(),this.states.touched=!0)},onStageUp:function(){this.states.touched=!1},onStageClickMove:function(e){this.paused||this.states.touched&&this.onMove(e.targetTouches[0])},isInScreen:function(e){if(e){var t=r.a.timeline().fromTo(this.$el.querySelector(".subtitle"),1.25,{alpha:0,y:50},{alpha:1,y:2,ease:"power4.out"},"init").fromTo(this.$el.querySelector(".warning"),.5,{alpha:0,top:20},{alpha:1,top:0,ease:"expo.out"},"init+=0.5");this.ball&&t.fromTo(this.ball.el,.35,{pixi:{alpha:0,scaleX:0,scaleY:0}},{pixi:{alpha:1,scaleX:2,scaleY:2},ease:"expo.out"},"init+=0.7")}}}},O=(i("5jOF"),i("KHd+")),C=i("i14r"),S=i.n(C),j=Object(O.a)(x,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"CasseBrique"},[i("div",{directives:[{name:"observe-scroll",rawName:"v-observe-scroll",value:{callback:e.isInScreen,once:!0,intersection:{threshold:.3}},expression:"{\n      callback: isInScreen,\n      once: true,\n      intersection: {\n        threshold: 0.3,\n      }\n    }"}],ref:"Content",staticClass:"content-wrapper"},[i("div",{staticClass:"subtitle-wrapper"},[i("h2",{staticClass:"subtitle",domProps:{textContent:e._s(e.subtitle)}})]),i("ClientOnly",[i("p",{staticClass:"content"},e._l(e.words.split(" "),(function(t,s){return i("span",{key:"word-"+s,tag:"component",class:["word-wrapper",{"-br":"<br>"===t},s]},["<br>"!==t?i("span",{directives:[{name:"g-image",rawName:"v-g-image"}],class:["word-"+s,"-anim-word"],domProps:{innerHTML:e._s(t)}}):e._e()])})),1)]),i("p",{directives:[{name:"g-image",rawName:"v-g-image"}],staticClass:"content-mobile",domProps:{innerHTML:e._s(e.words)}})],1),i("div",{staticClass:"gifs"},e._l([0,1,2,3],(function(e){return i("div",{key:"gif-"+e,ref:"GIF",refInFor:!0,staticClass:"gif"},[i("img",{staticClass:"image",attrs:{alt:""}})])})),0),i("canvas",{ref:"Scene",class:["pixi-scene",e.isLayoutMobile?"-hide":""]}),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLayoutMobile,expression:"!isLayoutMobile"},{name:"g-image",rawName:"v-g-image"}],class:["warning",e.states.ready?"-disabled":""],domProps:{innerHTML:e._s(e.button)}})])}),[],!1,null,"54132470",null);"function"==typeof S.a&&S()(j);var _=j.exports,k=i("Ln2k"),L=i("1XKo"),T=i("jVun"),I={name:"LatestProjects",components:{arrowRed:k.a,ListHover:L.a,UiWysiwyg:T.a},props:{title:{type:String,default:null},introduction:{type:String,default:null},itemsToDisplay:{type:Array,default:function(){return[]}},items:{type:Array,default:function(){return[]}},cta:{type:String,default:null}},data:function(){return{visible:!1}},computed:Object(s.a)(Object(s.a)({},Object(n.b)({siteId:"I18n/siteId",localeName:"I18n/localeName",viewport:"Interface/viewport",scrollDirection:"Interface/scrollDirection"})),{},{projects:function(){return Object(o.flow)([function(e){return Object(o.filter)(e,(function(e){var t;return null===(t=e.details)||void 0===t?void 0:t.url}))},function(e){return Object(o.each)(e,(function(e){var t,i,s,n,o,a,r,l,c,h,u,d;e.cover=null!==(t=null==e||null===(i=e.details)||void 0===i||null===(s=i.images)||void 0===s||null===(n=s.cover)||void 0===n?void 0:n.src)&&void 0!==t?t:"",e.width=null!==(o=null==e||null===(a=e.details)||void 0===a||null===(r=a.images)||void 0===r||null===(l=r.cover)||void 0===l?void 0:l.width)&&void 0!==o?o:0,e.height=null!==(c=null==e||null===(h=e.details)||void 0===h||null===(u=h.images)||void 0===u||null===(d=u.cover)||void 0===d?void 0:d.height)&&void 0!==c?c:0,e.year=e.year.toString()}))}])(this.items)}}),methods:{animCircle:function(){r.a.to(this.$refs.StudioSvg,.4,{duration:.4,scaleX:1,scaleY:1,rotation:"".concat("up"!==this.scrollDirection?"+=1":"-=1"),ease:"power4.out"})},onClick:function(){this.$router.push({name:"projects.".concat(this.localeName)})},onItemClick:function(e){this.$store.dispatch("Projects/SELECT",e)},onStudioVisible:function(e){this.visible=e},isAnimating:function(){r.a.from(this.$el.querySelector(".introduction .icon"),1,{x:-50,alpha:0,ease:"power4.out",delay:1})}}},M=(i("pTb3"),i("B9N+")),z=i.n(M),P=Object(O.a)(I,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"LatestProjects"},[s("div",{staticClass:"wrapper"},[s("header",{directives:[{name:"observe-scroll",rawName:"v-observe-scroll",value:{callback:e.onStudioVisible,intersection:{threshold:0}},expression:"{\n        callback: onStudioVisible,\n        intersection: {\n          threshold: 0,\n        }\n      }"}],staticClass:"header"},[s("GlobalSectionTitle",{attrs:{title:e.title,theme:"h1-small",bullet:"red"}})],1),s("g-image",{ref:"StudioSvg",staticClass:"studio-digital",attrs:{alt:"Studio digital",src:"fr"===e.localeName?i("UXtm"):i("r7qP")}}),s("div",{staticClass:"introduction"},[s("arrowRed",{staticClass:"icon"}),s("UiWysiwyg",{directives:[{name:"g-image",rawName:"v-g-image"}],staticClass:"text",attrs:{animate:!0,speed:1.5,stagger:.25,ease:"expo.out"},domProps:{innerHTML:e._s("<p>"+e.introduction+"</p>")},on:{animating:e.isAnimating}})],1),s("ListHover",{attrs:{"items-to-display":e.itemsToDisplay,cta:e.cta,items:e.projects,"white-over":!0},on:{"cta-click":e.onClick,"item-click":e.onItemClick}})],1)])}),[],!1,null,"3d86b52a",null);"function"==typeof z.a&&z()(P);var E=P.exports,R=i("Bj9G"),$=i("Iemf"),B=(i("cjZ/"),i("XNel"),i("xcsu"),i("kB/8"),i("LK8X"),i("QWgr"),i("GlGz"),i("Wm5I"),i("LDSs"),i("4Z1Y"),i("ZK0/"),i("34VS"),i("TmFQ"),i("Mru7"),i("sOia"),i("n/lV"),i("A9ba"),i("V3xb"),i("xI+y"),i("GkG/"),i("zb2g"),i("ujMm"),i("EQ/l"),i("ApQw"),i("PC45"),i("6I+V"),i("rEv/"),i("md7G")),F=i("JX7q"),A=i("ReuC"),D=i("foSv"),q=i("Ji7U"),N=i("LK+K"),U=i("Womt"),G=i("ypls"),H=i("0cQX"),V=i("NK00"),X=i("mrLe"),J=i("Ng1w"),Y=i("993r"),W={fog:{near:400,far:800,color:"#0a0a0a"},particles:{size:1e3,color:"#FFFFFF",alpha:.5,bounce:1,pointSize:3},textShader:{speed:.004,repeat:5},mouse:{x:600,y:600},logo:{distance:50},postprocessing:{bloom:{resolution:1024,threshold:0,radius:.75,strength:0,coeff:.55,coeff_mobile:1.7},bounce:{pinch:0,yCenter:.6,snapped:!1}},textures:{texts:{main:"/three-assets/header-text-fill-1.png",fr:"/three-assets/header-text-fill-2-fr.png",en:"/three-assets/header-text-fill-2-en.png"},logo:"/three-assets/kffein-logo.gltf"}},K=new U.ub(0,0,0),Q=function(e){Object(q.a)(i,e);var t=Object(N.a)(i);function i(e){var n;Object(c.a)(this,i),(n=t.call(this,Object(s.a)(Object(s.a)({},e),{},{camera:new U.W(70,e.viewport.width/e.viewport.height,1,1500)}))).scene=new U.hb,n.scene.fog=new U.p(new U.j(W.fog.color),W.fog.near,W.fog.far+(e.isDesktop?0:200)),n.camera.position.set(0,100,900),n.camera.updateMatrix(),n.camera.lookAt(K);var o=new U.l(16777215);return o.name="mainLight",o.lookAt(new U.ub(0,-50,0)),o.position.set(-300,200,0),n.scene.add(o),n.materials={},n.passes={},n.hasInit=!1,n.hasAnimated=!1,n.introTimeline=null,n.snapping=!1,Object(B.a)(n,Object(F.a)(n))}return Object(h.a)(i,[{key:"init",value:function(){this.hasInit||(Object(A.a)(Object(D.a)(i.prototype),"init",this).call(this),this.passes.bloom=new X.a({x:W.postprocessing.bloom.resolution,y:W.postprocessing.bloom.resolution},W.postprocessing.bloom.strength,W.postprocessing.bloom.radius,W.postprocessing.bloom.threshold),this.passes.smaa=new Y.a(this.viewport.width*this.options.pixelRatio,this.viewport.height*this.options.pixelRatio),this.passes.bounce=new J.a({uniforms:{tDiffuse:{value:null},uPinch:{value:0},yCenter:{value:W.postprocessing.bounce.yCenter}},vertexShader:"precision highp float;\n#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n",fragmentShader:"precision highp float;\n#define GLSLIFY 1\nuniform vec2 uResolution;\n\n//pinch\nuniform float uPinch;\nuniform float yCenter;\nuniform sampler2D tDiffuse;\nvarying vec2 vUv;\n\nvoid main() {\n \n  // Pinch + Drunk\n  vec2 center = vec2( .5, yCenter );\n  vec2 dir = normalize( center - vUv );\n  float d = length( center - vUv );\n  float f = exp( uPinch * ( d - .5 ) ) - 1.;\n  if( d > .5 ) f = 0.;\n\n  gl_FragColor = texture2D(tDiffuse, vUv + f * dir);\n}\n"}),this.composer.addPass(this.passes.bloom),this.composer.addPass(this.passes.smaa),this.composer.addPass(this.passes.bounce),this.initTexts(),this.initParticles(),this.initLogo(),this.handlers={move:this.onMove.bind(this),leave:this.onLeave.bind(this)},this.elmts[0].addEventListener("mouseleave",this.handlers.leave),window.addEventListener("mousemove",this.handlers.move),this.resize(this.viewport),this.hasInit=!0)}},{key:"dispose",value:function(){Object(A.a)(Object(D.a)(i.prototype),"dispose",this).call(this),this.elmts&&this.elmts[0].removeEventListener("mouseleave",this.handlers.leave),window.removeEventListener("mousemove",this.handlers.move),this.passes.bloom&&this.passes.bloom.dispose(),this.materials=null,this.passes=null,this.handlers=null,this.scene=null,this.camera=null}},{key:"initTexts",value:function(){var e=this,t=(new U.pb).load(W.textures.texts.main);t.wrapS=U.gb,t.wrapT=U.gb;var i=(new U.pb).load(W.textures.texts[this.options.locale]);i.wrapS=U.gb,i.wrapT=U.gb;var s=new U.k(500,500,125,40,40,!0),n=new U.ib({transparent:!0,side:U.m,depthWrite:!0,fog:!0,uniforms:{repeat:{value:W.textShader.repeat},time:{value:0},direction:{value:1},fogNear:{value:this.scene.fog.near},fogFar:{value:this.scene.fog.far},fogColor:{value:this.scene.fog.color},uTexture:{value:null}},vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;\nuniform float time;\nuniform float direction;\nuniform float repeat;\n\nvoid main() {\n  vUv = vec2((uv.x * repeat) + (time * direction), uv.y);\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",fragmentShader:"#define GLSLIFY 1\nvarying vec2 vUv;\n\nuniform sampler2D uTexture;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\n\nvoid main() {\n  vec4 color = texture2D(uTexture, vUv);\n  if ( color.a < 0.5 ) discard;\n\tgl_FragColor = color;\n\n  #ifdef USE_FOG\n    #ifdef USE_LOGDEPTHBUF_EXT\n        float depth = gl_FragDepthEXT / gl_FragCoord.w;\n    #else\n        float depth = gl_FragCoord.z / gl_FragCoord.w;\n    #endif\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n  #endif\n}\n"});Object(o.times)(2,(function(o){var a=new U.L(s,n.clone());a.name="textMesh-".concat(o),a.material.uniforms.uTexture.value=0===o?t:i,e.scene.add(a),o>0&&(a.scale.set(1-.05*o,1-.05*o,1-.05*o),a.rotation.z=U.I.degToRad(o?-17:0)),a.userData.scale=a.scale.clone()}))}},{key:"initParticles",value:function(){this.materials.particles=new U.fb({uniforms:{color:{value:new U.j(W.particles.color)},alpha:{value:W.particles.alpha},time:{value:0},pointSize:{value:W.particles.pointSize},bounce:{value:W.particles.bounce}},vertexShader:"#define GLSLIFY 1\nattribute vec3 position;\nattribute float delay;\nattribute float speed;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform float time;\nuniform vec3 color;\nuniform float alpha;\nuniform float bounce;\nuniform float pointSize;\n\nvarying vec3 vColor;\nvarying float vOpacity;\n\nmat4 calcRotateMat4X(float radian) {\n  return mat4(\n    1.0, 0.0, 0.0, 0.0,\n    0.0, cos(radian), -sin(radian), 0.0,\n    0.0, sin(radian), cos(radian), 0.0,\n    0.0, 0.0, 0.0, 1.0\n  );\n}\n\nmat4 calcRotateMat4Y(float radian) {\n  return mat4(\n    cos(radian), 0.0, sin(radian), 0.0,\n    0.0, 1.0, 0.0, 0.0,\n    -sin(radian), 0.0, cos(radian), 0.0,\n    0.0, 0.0, 0.0, 1.0\n  );\n}\n\nmat4 calcRotateMat4Z(float radian) {\n  return mat4(\n    cos(radian), -sin(radian), 0.0, 0.0,\n    sin(radian), cos(radian), 0.0, 0.0,\n    0.0, 0.0, 1.0, 0.0,\n    0.0, 0.0, 0.0, 1.0\n  );\n}\n\nmat4 calcRotateMat4(vec3 radian) {\n  return calcRotateMat4X(radian.x) * calcRotateMat4Y(radian.y) * calcRotateMat4Z(radian.z);\n}\n\nconst float duration = 10.0;\n\nvoid main() {\n  // calculate interval time from 0 to 1\n  float interval = mod(time + delay * duration, duration) / duration;\n\n  // update position and size\n  float size = pointSize * sin(interval * 4.0) * bounce;\n  float blink = max(sin(interval * 4.0) * 2.0 - 1.0, 0.0);\n  mat4 rotateMat = calcRotateMat4(vec3(\n    radians(time * speed * 0.3),\n    radians(time * speed),\n    radians(time * speed * 0.3)\n    ));\n\n  // coordinate transformation\n  vec4 mvPosition = modelViewMatrix * rotateMat * vec4(position, 1.0);\n\n  mvPosition.x *= -bounce;\n  mvPosition.y *= -bounce;\n\n  float distanceFromCamera = 10.0 / length(mvPosition.xyz);\n\n  vColor = color;\n  vOpacity = blink * clamp(distanceFromCamera, 0.0, alpha);\n\n  gl_Position = projectionMatrix * mvPosition;\n  gl_PointSize = distanceFromCamera * size;\n}\n",fragmentShader:"precision highp float;\n#define GLSLIFY 1\n\nvarying vec3 vColor;\nvarying float vOpacity;\n\nvoid main() {\n  vec2 p = gl_PointCoord * 2.0 - 1.0;\n  float r = (1.0 - smoothstep(0.95, 1.0, length(p)));\n  gl_FragColor = vec4(vColor * r, vOpacity);\n}\n",blending:U.a,depthWrite:!1,transparent:!0});for(var e=W.particles.size,t=new U.f,i=new U.e(new Float32Array(3*e),3),s=new U.e(new Float32Array(e),1,1),n=new U.e(new Float32Array(e),1,1),o=0,a=e;o<a;o+=1){var r=U.I.degToRad(U.I.randInt(0,150)-75),l=U.I.degToRad(U.I.randInt(0,360)),c=G.a.spherical(r,l,6);i.setXYZ(o,c[0],c[1],c[2]),s.setXYZ(o,Math.random()),n.setXYZ(o,U.I.randInt(1,15)*(2*U.I.randInt(0,1)-1))}t.setAttribute("position",i),t.setAttribute("delay",s),t.setAttribute("speed",n);var h=new U.Z(t,this.materials.particles);h.name="particles",h.position.set(0,100,this.camera.position.z-5),this.scene.add(h)}},{key:"initLogo",value:function(){var e=this;(new V.a).load(W.textures.logo,(function(t){var i=t.scene.children[0].children[0],s=new U.n(i.geometry),n=s.attributes.position.count;s.setAttribute("color",new U.e(new Float32Array(3*n),3));var a=new U.j,r=s.attributes.color;Object(o.times)(n,(function(e){a.setRGB(255,255,255),r.setXYZ(e,a.r,a.g,a.b)})),Object(o.each)([0,3,4,7,8,9,10,11,12,19,20,39,43,44,45,46,65,66,69,70,73,74,75,73,77,78,83,84,101,102,127,128],(function(e){Object(o.times)(3,(function(t){a.setRGB(0,0,0),r.setXYZ(e+t,a.r,a.g,a.b)}))}));var l=new U.ib({fog:!0,uniforms:{fogColor:{value:e.scene.fog.color},fogNear:{value:e.scene.fog.near},fogFar:{value:e.scene.fog.far}},side:U.m,transparent:!0,vertexShader:"#define GLSLIFY 1\nvarying vec3 vColor;\n\nvoid main(){\n  vColor = color;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",fragmentShader:"#define GLSLIFY 1\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vColor;\n\nvoid main(){\n  if(vColor.g == 0.0) discard;\n\n  gl_FragColor = vec4( vec3(vColor.rgb), 1.0 );\n\n  #ifdef USE_FOG\n    #ifdef USE_LOGDEPTHBUF_EXT\n        float depth = gl_FragDepthEXT / gl_FragCoord.w;\n    #else\n        float depth = gl_FragCoord.z / gl_FragCoord.w;\n    #endif\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n    gl_FragColor.a = 1.0 - fogFactor;\n  #endif\n}\n",vertexColors:U.wb}),c=new U.U;c.name="logoParent",c.position.set(0,50,250),c.rotation.set(0,U.I.degToRad(8),0),e.scene.add(c);var h=new U.B(s,l);h.name="logoKid",c.add(h)}))}},{key:"createIntroTimeline",value:function(e){var t=this;if(!this.scene)return!1;var i=this.scene.getObjectByName("logoKid");return!!i&&r.b.timeline({paused:!0,onStart:e,onComplete:function(){t.hasAnimated=!0}}).add("texts").add("logo","init+=0.2").from(this.scene.getObjectByName("textMesh-0").position,2,{x:0,y:1.5*-this.viewport.height,z:0,ease:"power4.inOut"},"texts").from(this.scene.getObjectByName("textMesh-1").position,2,{x:0,y:1.5*this.viewport.height,z:0,ease:"power4.inOut"},"texts").from(i.position,2,{x:0,y:-250,z:-900,ease:"power4.inOut"},"logo").from(i.rotation,2,{x:U.J.degToRad(90),y:U.J.degToRad(180),ease:"power4.inOut"},"logo")}},{key:"enter",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=function(){e.introTimeline=e.createIntroTimeline(t),e.introTimeline.play()};this.introTimeline?i():setTimeout(i.bind(this),200)}},{key:"resize",value:function(e){Object(A.a)(Object(D.a)(i.prototype),"resize",this).call(this,e),this.passes.bloom.setSize(this.viewport.width,this.viewport.height),this.passes.smaa.setSize(this.viewport.width,this.viewport.height);var t=e.width<=1e3,s=t?6:3;this.materials.particles.uniforms.pointSize.value!==s&&(this.materials.particles.uniforms.pointSize.value=s),W.fog.near=t?260:400,W.fog.far=t?700:800,Object(o.each)(this.scene.children,(function(e){if(-1!==e.name.indexOf("textMesh")){var i=t?.35:0;e.scale.set(e.userData.scale.x-i,e.userData.scale.y-i,e.userData.scale.z-i)}"logoParent"===e.name&&e.children[0].scale.set(t?.8:1,t?.8:1,t?.8:1)}))}},{key:"render",value:function(e,t){var n=this;if(Object(A.a)(Object(D.a)(i.prototype),"render",this).call(this),this.isVisible()){var a=-t,l=[this.scene.getObjectByName("textMesh-0"),this.scene.getObjectByName("textMesh-1")];l[0]&&l[1]&&Object(o.each)(l,(function(e,t){e.material.uniforms.time.value+=W.textShader.speed+5e-4*t,n.hasAnimated&&(e.position.y=-a)})),this.materials.particles&&(this.materials.particles.uniforms.time.value=e),this.passes.bloom&&(this.passes.bloom.strength=W.postprocessing.bloom.strength),this.passes.bounce&&(this.passes.bounce.uniforms.uPinch.value=W.postprocessing.bounce.pinch),this.passes.bloom.enabled=this.snapping,this.passes.bounce.enabled=this.snapping;var c=this.scene.getObjectByName("logoParent"),h=this.scene.getObjectByName("particles"),u=this.viewport.width<=1e3;if(c&&h){var d=W.mouse.x/this.viewport.width-.5,p=W.mouse.y/this.viewport.height-.5;if(!u){var v={duration:1,ease:"power2.out"};r.b.timeline().to(c.position,Object(s.a)({z:250+50*p},v),0).to(c.rotation,Object(s.a)({x:U.I.degToRad(360*-p)},v),0).to(c.children[0].rotation,Object(s.a)({y:U.I.degToRad(8)+U.I.degToRad(360*-d)},v),0).to(this.camera.position,Object(s.a)({y:180*p},v),0).to(h.position,Object(s.a)({y:180*p},v),0)}this.hasAnimated&&(c.position.y=50-a)}u&&this.autoMove(c),this.camera.lookAt(K),this.composer.render()}}},{key:"getSnap",value:function(){return this.viewport?{x:.525*this.viewport.width,y:.485*this.viewport.height}:{x:0,y:0}}},{key:"onMove",value:function(e){if(this.materials&&this.isVisible()){var t=this.getSnap(),i={x:e.clientX,y:e.clientY},s=Math.abs(t.x-i.x),n=Math.abs(t.y-i.y),o=(1-Math.min(1,s/W.logo.distance))*(1-Math.min(1,n/W.logo.distance))>.1;if(o&&(W.mouse.x=t.x,W.mouse.y=t.y),this.materials.particles&&(this.materials.particles.uniforms.bounce.value=o?3:1),this.passes.bloom){var a=this.viewport.width>700?W.postprocessing.bloom.coeff:W.postprocessing.bloom.coeff_mobile;r.b.to(W.postprocessing.bloom,{duration:1,strength:(o?1:0)*a,ease:"power2.out"})}this.passes.bounce&&(o?W.postprocessing.bounce.snapped||(r.b.timeline().to(W.postprocessing.bounce,.25,{pinch:-.07,ease:"expo.out"},0).to(W.postprocessing.bounce,.7,{pinch:0,ease:"back.out"},.15),W.postprocessing.bounce.snapped=!0):(r.b.to(W.postprocessing.bounce,.5,{pinch:0,ease:"expo.out"}),W.postprocessing.bounce.snapped=!1)),o||(W.mouse.x=i.x,W.mouse.y=i.y),this.snapping=o}}},{key:"onLeave",value:function(e){var t=this;if(!(e.clientY>100)){var i=this.getSnap();r.b.to(W.mouse,1,{x:i.x,y:i.y,ease:"power2.inOut",onUpdate:function(){t.onMove({clientX:W.mouse.x,clientY:W.mouse.y})}})}}},{key:"autoMove",value:function(e){W.mouse.y=.5*(this.viewport.height-32),e&&(e.children[0].rotation.y+=.01)}}]),i}(H.a),Z=i("tsgV"),ee={name:"PageHome",components:{CasseBrique:_,LatestProjects:E,JobsPrefooter:a.a,GLRenderer:R.a},extends:Z.a,beforeRouteEnter:function(e,t,s){"language"!==e.name?s():i.e(524).then(i.bind(null,"6cJB")).then((function(e){return e.default})).then((function(e){window.location.href="/".concat(null!=e?e:"fr")}))},computed:Object(s.a)(Object(s.a)({},Object(n.b)({viewport:"Interface/viewport",isVpTabletLandscape:"Interface/isVpTabletLandscape",device:"Interface/device",layout:"Interface/layout",scrollDirection:"Interface/scrollDirection",scrollPos:"Interface/scrollPos",projectSelectedPath:"Projects/selectedPath",pageReady:"App/pageReady",pageIntroReady:"App/pageIntroReady"})),{},{projects:function(){return Object(o.flow)([function(e){var t,i;return null!==(t=null===(i=e.projects)||void 0===i?void 0:i.edges)&&void 0!==t?t:[]},function(e){return Object(o.map)(e,(function(e){return e.node}))},function(e){return Object(o.each)(e,(function(e){e.categories=e.category.split(",")}))}])(this.$page)},latestProjects:function(){var e,t;return null!==(e=null===(t=this.page)||void 0===t?void 0:t.section_latest_projects)&&void 0!==e?e:{}},mobile:function(){return"mobile"===this.layout},scenes:function(){return this.mobile?[{selector:".header-3d",glScene:Q,settings:{clearColor:"#000",clearAlpha:1,zIndex:-1,keepOnResize:!0}}]:[{selector:".header-3d",glScene:Q,settings:{clearColor:"#000",clearAlpha:1,zIndex:-1,keepOnResize:!0}},{selector:".LatestProjects .item",glScene:$.a,settings:{zIndex:50}}]},addBgProjectList:function(){return!("tablet"!==this.device.type||!this.isVpTabletLandscape)&&this.scrollPos<=this.viewport.height+100},jsonld:function(){return{"@context":"https://schema.org","@type":"Store",image:[this.seo.socials.facebook.image.url],"@id":"https://kffein-id.com/",name:"Agence KFFEIN",address:{"@type":"PostalAddress",streetAddress:"7240, rue Waverly #212",addressLocality:"Montréal",addressRegion:"QC",postalCode:"H2R 2Y8",addressCountry:"CA"},geo:{"@type":"GeoCoordinates",latitude:45.533502971589,longitude:-73.6209492188421},url:"https://kffein.com/",telephone:"+15148972991"}}}),watch:{scrollPos:function(){this.$refs.LatestProjects&&this.$refs.LatestProjects.visible&&this.$refs.LatestProjects.animCircle(),this.$refs.Jobs&&this.$refs.Jobs.visible&&this.$refs.Jobs.animScroll()},projectSelectedPath:function(e){e&&this.$refs.Renderer&&(this.mobile?this.$router.push(e):this.$refs.Renderer.getSceneAt(1).transition(this.$router,e))}},beforeDestroy:function(){this.$refs.Header&&this.$refs.Header.classList.remove("-dom-webgl-hide")},mounted:function(){var e=this,t=this.$watch("pageIntroReady",(function(i){i&&e.$nextTick((function(){e.$refs.Renderer.getSceneAt(0).enter((function(){e.$refs.Header.classList.add("-dom-webgl-hide")})),t()}))}),{immediate:!0})},methods:{tick:function(){this.$refs.Renderer&&(this.$refs.Renderer.savePosition(this.scrollPos),this.$refs.Renderer.render()),!this.mobile&&this.$refs.CasseBrique&&(this.$refs.CasseBrique.paused||this.$refs.CasseBrique.run()),!this.mobile&&this.$refs.Jobs&&this.$refs.Jobs.visible&&this.$refs.Jobs.follow()},toggleCassebrique:function(e){this.$refs.CasseBrique.pause(!e)},scrollToCasseBrique:function(){this.smoothScroll.scrollTo(this.$refs.CasseBrique.$el.offsetTop,!0)}}},te=(i("bpSz"),i("lr1y")),ie=i.n(te),se=null,ne=Object(O.a)(ee,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"PageHome"},[i("GLRenderer",{ref:"Renderer",attrs:{scenes:e.scenes}}),i("div",{directives:[{name:"scroll-theme",rawName:"v-scroll-theme",value:"dark",expression:"'dark'"}],ref:"Header",staticClass:"header-3d"}),i("CasseBrique",{directives:[{name:"scroll-theme",rawName:"v-scroll-theme",value:"light",expression:"'light'"},{name:"observe-scroll",rawName:"v-observe-scroll",value:{callback:e.toggleCassebrique,intersection:{threshold:.1}},expression:"{\n      callback: toggleCassebrique,\n      intersection: {\n        threshold: 0.1,\n      }\n    }"}],ref:"CasseBrique",on:{replace:e.scrollToCasseBrique}}),i("LatestProjects",{directives:[{name:"scroll-theme",rawName:"v-scroll-theme",value:"light",expression:"'light'"}],ref:"LatestProjects",staticClass:"LatestProjects",attrs:{"data-add-bg":e.addBgProjectList,title:e.latestProjects.title,introduction:e.latestProjects.introduction,"items-to-display":e.latestProjects.items,cta:e.$t("PAGE_HOME.work_discover"),items:e.projects}}),i("JobsPrefooter",{ref:"Jobs"}),i("script",{directives:[{name:"g-image",rawName:"v-g-image"}],attrs:{type:"application/ld+json"},domProps:{innerHTML:e._s(e.jsonld)}})],1)}),[],!1,null,"22db1ed6",null);"function"==typeof ie.a&&ie()(ne),"function"==typeof se&&se(ne);t.default=ne.exports},vPt4:function(e,t,i){},wQL9:function(e,t,i){"use strict";var s=i("pVnL"),n=i.n(s),o={functional:!0,render(e,t){const{_c:i,_v:s,data:o,children:a=[]}=t,{class:r,staticClass:l,style:c,staticStyle:h,attrs:u={},...d}=o;return i("svg",{class:[r,l],style:[c,h],attrs:n()({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 11",fill:"#010101"},u),...d},a.concat([i("path",{attrs:{"fill-rule":"evenodd",d:"M.71 0A.69.69 0 000 .86l2.49 9.63a.68.68 0 00.66.51h13.68a.68.68 0 00.66-.51L20 .86a.69.69 0 00-1-.76l-6 3.58L10.55.29a.68.68 0 00-1.11 0L7 3.68 1 .1A.75.75 0 00.7 0z"}})]))}};t.a=o},ypls:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));i("djen"),i("qdS0"),i("hHd6"),i("z6Sc");var s=i("1OyB"),n=i("vuIU"),o=function(){function e(){Object(s.a)(this,e)}return Object(n.a)(e,null,[{key:"spherical",value:function(e,t,i){return[Math.cos(e)*Math.cos(t)*i,Math.sin(e)*i,Math.cos(e)*Math.sin(t)*i]}},{key:"pad",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",s=e.toString();return s.length>=t?s:new Array(t-s.length+1).join(i)+e}},{key:"clamp",value:function(e,t,i){return Math.max(t,Math.min(e,i))}},{key:"lerp",value:function(e,t,i){return e*(1-i)+t*i}}]),e}()}}]);